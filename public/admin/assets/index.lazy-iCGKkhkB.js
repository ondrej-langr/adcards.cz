import{I as _,J as O,K as z,N as B,r as y,R as I,e as L,Q as P,l as A,g as V,j as s,o as u}from"./index-SAZ6haNj.js";import{L as b,A as C}from"./LoadingOverlay-r5o9b2jl.js";import{T as U}from"./Textarea-DXEk40Sb.js";import"./Overlay-6lSEz1if.js";function h(e,r){if(typeof e=="string"&&e.trim().length===0)return!0;try{return r(e),!0}catch{return!1}}const M={serialize:JSON.stringify,deserialize:JSON.parse},i=_((e,r)=>{const{value:a,defaultValue:n,onChange:E,formatOnBlur:v,validationError:x,serialize:R,deserialize:o,onFocus:l,onBlur:c,readOnly:d,error:j,...J}=z("JsonInput",M,e),[p,m]=B({value:a,defaultValue:n,finalValue:"",onChange:E}),[N,f]=y.useState(h(p,o)),S=t=>{l==null||l(t),f(!0)},T=t=>{typeof c=="function"&&c(t);const g=h(t.currentTarget.value,o);v&&!d&&g&&t.currentTarget.value.trim()!==""&&m(R(o(t.currentTarget.value),null,2)),f(g)};return I.createElement(U,{value:p,onChange:t=>m(t.currentTarget.value),onFocus:S,onBlur:T,ref:r,readOnly:d,...J,autoComplete:"off",__staticSelector:"JsonInput",error:N?j:x||!0,"data-monospace":!0})});i.classes=O.classes;i.displayName="@mantine/core/JsonInput";const F=(e,r)=>{const a=y.useCallback(()=>L.userRoles.getMany(e).then(({data:n})=>n),[e]);return P([A.USER_ROLES,e],a,r)},Y=V("/_authorized/settings/user-roles/")({component:Q});function Q(){const{data:e,isLoading:r,isError:a,isRefetching:n}=F();return s.jsxs(u,{children:[s.jsx(u.Header,{title:"User roles"}),s.jsx(u.Content,{children:s.jsxs("div",{className:"relative min-h-[400px]",children:[s.jsx(b,{visible:r||n||a,overlayProps:{blur:2}}),s.jsx(C,{children:"Editting is only allowed through code configuration"}),s.jsx(i,{className:"mt-5",disabled:!0,autosize:!0,value:JSON.stringify(e??[],null,2)})]})})]})}export{Y as Route};

import{r as u,K as yr,R as S,Q as Le,bZ as Xr,b2 as xr,an as xe,b_ as et,I as Dr,J as Er,Z as rt,b$ as tt,N as nt,V as ot,c0 as at,W as it,c1 as tr,c2 as st,as as lt,_ as Fr,e as Y,bE as ct,n as q,aP as G,M as k,c3 as ut,c4 as pt,j as i,c5 as ft,bc as dt,w as W,c6 as mt,c7 as wr,u as we,B as Me,aN as ve,A as He,bJ as gt,c8 as Cr,T as jr,x as bt,c9 as ht,b as vt,f as kr,aG as yt}from"./index-V81NBkkY.js";import{_ as re,a as te,b as nr,c as or}from"./NativeScrollArea-3RcdrrPH.js";import{M as xt}from"./Modal-ipFB7vwH.js";import{g as Dt,I as Et}from"./ItemsMissingMessage-x1wK8Oby.js";import{C as Ft,S as ar}from"./Skeleton-2hbUmUW0.js";var _r={root:"m-5f75b09e",body:"m-5f6e695e",labelWrapper:"m-d3ea56bb",label:"m-8ee546b8",description:"m-328f68c0",error:"m-8e8a99cc"};const wt=_r,Or=u.forwardRef(({__staticSelector:e,__stylesApiProps:r,className:t,classNames:n,styles:o,unstyled:a,children:l,label:c,description:p,id:g,disabled:d,error:m,size:v,labelPosition:b="left",variant:h,style:_,vars:P,mod:N,...$},M)=>{const C=yr({name:e,props:r,className:t,style:_,classes:_r,classNames:n,styles:o,unstyled:a});return S.createElement(Le,{...C("root"),ref:M,__vars:{"--label-fz":Xr(v),"--label-lh":xr(v,"label-lh")},mod:[{"label-position":b},N],variant:h,size:v,...$},S.createElement("div",{...C("body")},l,S.createElement("div",{...C("labelWrapper"),"data-disabled":d||void 0},c&&S.createElement("label",{...C("label"),"data-disabled":d||void 0,htmlFor:g},c),p&&S.createElement(xe.Description,{size:v,__inheritStyles:!1,...C("description")},p),m&&m!=="boolean"&&S.createElement(xe.Error,{size:v,__inheritStyles:!1,...C("error")},m))))});Or.displayName="@mantine/core/InlineInput";const Ar=u.createContext(null),Ct=Ar.Provider,jt=()=>u.useContext(Ar);function kt({children:e,role:r}){const t=et();return t?S.createElement("div",{role:r,"aria-labelledby":t.labelId,"aria-describedby":t.describedBy},e):S.createElement(S.Fragment,null,e)}const _t={},Ke=Dr((e,r)=>{const{value:t,defaultValue:n,onChange:o,size:a,wrapperProps:l,children:c,readOnly:p,...g}=Er("CheckboxGroup",_t,e),[d,m]=rt({value:t,defaultValue:n,finalValue:[],onChange:o}),v=b=>{const h=b.currentTarget.value;!p&&m(d.includes(h)?d.filter(_=>_!==h):[...d,h])};return S.createElement(Ct,{value:{value:d,onChange:v,size:a}},S.createElement(xe.Wrapper,{size:a,ref:r,...l,...g,labelElement:"div",__staticSelector:"CheckboxGroup"},S.createElement(kt,{role:"group"},c)))});Ke.classes=xe.Wrapper.classes;Ke.displayName="@mantine/core/CheckboxGroup";var Sr={root:"m-bf2d988c",inner:"m-26062bec",input:"m-26063560",icon:"m-bf295423","input--outline":"m-215c4542"};const Ot={labelPosition:"right",icon:Ft},At=ot((e,{radius:r,color:t,size:n,iconColor:o,variant:a,autoContrast:l})=>{const c=at({color:t||e.primaryColor,theme:e}),p=c.isThemeColor&&c.shade===void 0?`var(--mantine-color-${c.color}-outline)`:c.color;return{root:{"--checkbox-size":xr(n,"checkbox-size"),"--checkbox-radius":r===void 0?void 0:it(r),"--checkbox-color":a==="outline"?p:tr(t,e),"--checkbox-icon-color":o?tr(o,e):Dt(l,e)?st({color:t,theme:e}):void 0}}}),Ce=Dr((e,r)=>{const t=Er("Checkbox",Ot,e),{classNames:n,className:o,style:a,styles:l,unstyled:c,vars:p,color:g,label:d,id:m,size:v,radius:b,wrapperProps:h,children:_,checked:P,labelPosition:N,description:$,error:M,disabled:C,variant:O,indeterminate:y,icon:D,rootRef:T,iconColor:R,onChange:E,autoContrast:oe,mod:ae,...Z}=t,w=jt(),L=v||(w==null?void 0:w.size),je=D,H=yr({name:"Checkbox",props:t,classes:Sr,className:o,style:a,classNames:n,styles:l,unstyled:c,vars:p,varsResolver:At}),{styleProps:ie,rest:I}=tt(Z),fe=nt(m),se=w?{checked:w.value.includes(I.value),onChange:K=>{w.onChange(K),E==null||E(K)}}:{};return S.createElement(Or,{...H("root"),__staticSelector:"Checkbox",__stylesApiProps:t,id:fe,size:L,labelPosition:N,label:d,description:$,error:M,disabled:C,classNames:n,styles:l,unstyled:c,"data-checked":se.checked||P||void 0,variant:O,ref:T,mod:ae,...ie,...h},S.createElement(Le,{...H("inner"),mod:{"data-label-position":N}},S.createElement(Le,{component:"input",id:fe,ref:r,checked:P,disabled:C,mod:{error:!!M,indeterminate:y},...H("input",{focusable:!0,variant:O}),onChange:E,...I,...se,type:"checkbox"}),S.createElement(je,{indeterminate:y,...H("icon")})))});Ce.classes={...Sr,...wt};Ce.displayName="@mantine/core/Checkbox";Ce.Group=Ke;var Pr={exports:{}},St="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Pt=St,Nt=Pt;function Nr(){}function Ir(){}Ir.resetWarningCache=Nr;var It=function(){function e(n,o,a,l,c,p){if(p!==Nt){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}e.isRequired=e;function r(){return e}var t={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:r,element:e,elementType:e,instanceOf:r,node:e,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:Ir,resetWarningCache:Nr};return t.PropTypes=t,t};Pr.exports=It();var Tt=Pr.exports;const x=lt(Tt),Rt=e=>()=>Y.library.folders.getMany(e).then(r=>r.data.data),Lt=e=>{const r=u.useMemo(()=>["folders",e],[e]),t=Fr(r,Rt(e),{enabled:!!e});return u.useMemo(()=>({...t,key:r}),[t,r])},Tr=(e,r)=>{const t=ct(),n=u.useMemo(()=>["files",e,r],[e,r]),{data:o,isError:a,isLoading:l,refetch:c}=Fr(n,()=>Y.library.files.getMany({path:e,limit:9999,where:r})),{data:p,isError:g,key:d,refetch:m}=Lt(e),v=u.useCallback(h=>t.setQueryData(n,h),[t,n]),b=u.useCallback(h=>{t.setQueryData(d,h)},[t,d]);return u.useMemo(()=>({data:o!=null&&o.data.data||p?{files:o==null?void 0:o.data.data,folders:p}:void 0,isError:a||g,isLoading:l||!g&&!p,mutateFiles:v,mutateFolders:b,refetchFolders:m,refetchFiles:c}),[v,b,m,c,l,g,p,a,o])};var Mt=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function ue(e,r){var t=zt(e);if(typeof t.path!="string"){var n=e.webkitRelativePath;Object.defineProperty(t,"path",{value:typeof r=="string"?r:typeof n=="string"&&n.length>0?n:e.name,writable:!1,configurable:!1,enumerable:!0})}return t}function zt(e){var r=e.name,t=r&&r.lastIndexOf(".")!==-1;if(t&&!e.type){var n=r.split(".").pop().toLowerCase(),o=Mt.get(n);o&&Object.defineProperty(e,"type",{value:o,writable:!1,configurable:!1,enumerable:!0})}return e}var $t=[".DS_Store","Thumbs.db"];function Wt(e){return re(this,void 0,void 0,function(){return te(this,function(r){return De(e)&&Bt(e.dataTransfer)?[2,Ut(e.dataTransfer,e.type)]:Gt(e)?[2,Ht(e)]:Array.isArray(e)&&e.every(function(t){return"getFile"in t&&typeof t.getFile=="function"})?[2,Kt(e)]:[2,[]]})})}function Bt(e){return De(e)}function Gt(e){return De(e)&&De(e.target)}function De(e){return typeof e=="object"&&e!==null}function Ht(e){return ze(e.target.files).map(function(r){return ue(r)})}function Kt(e){return re(this,void 0,void 0,function(){var r;return te(this,function(t){switch(t.label){case 0:return[4,Promise.all(e.map(function(n){return n.getFile()}))];case 1:return r=t.sent(),[2,r.map(function(n){return ue(n)})]}})})}function Ut(e,r){return re(this,void 0,void 0,function(){var t,n;return te(this,function(o){switch(o.label){case 0:return e.items?(t=ze(e.items).filter(function(a){return a.kind==="file"}),r!=="drop"?[2,t]:[4,Promise.all(t.map(Vt))]):[3,2];case 1:return n=o.sent(),[2,ir(Rr(n))];case 2:return[2,ir(ze(e.files).map(function(a){return ue(a)}))]}})})}function ir(e){return e.filter(function(r){return $t.indexOf(r.name)===-1})}function ze(e){if(e===null)return[];for(var r=[],t=0;t<e.length;t++){var n=e[t];r.push(n)}return r}function Vt(e){if(typeof e.webkitGetAsEntry!="function")return sr(e);var r=e.webkitGetAsEntry();return r&&r.isDirectory?Lr(r):sr(e)}function Rr(e){return e.reduce(function(r,t){return nr(nr([],or(r),!1),or(Array.isArray(t)?Rr(t):[t]),!1)},[])}function sr(e){var r=e.getAsFile();if(!r)return Promise.reject("".concat(e," is not a File"));var t=ue(r);return Promise.resolve(t)}function qt(e){return re(this,void 0,void 0,function(){return te(this,function(r){return[2,e.isDirectory?Lr(e):Yt(e)]})})}function Lr(e){var r=e.createReader();return new Promise(function(t,n){var o=[];function a(){var l=this;r.readEntries(function(c){return re(l,void 0,void 0,function(){var p,g,d;return te(this,function(m){switch(m.label){case 0:if(c.length)return[3,5];m.label=1;case 1:return m.trys.push([1,3,,4]),[4,Promise.all(o)];case 2:return p=m.sent(),t(p),[3,4];case 3:return g=m.sent(),n(g),[3,4];case 4:return[3,6];case 5:d=Promise.all(c.map(qt)),o.push(d),a(),m.label=6;case 6:return[2]}})})},function(c){n(c)})}a()})}function Yt(e){return re(this,void 0,void 0,function(){return te(this,function(r){return[2,new Promise(function(t,n){e.file(function(o){var a=ue(o,e.fullPath);t(a)},function(o){n(o)})})]})})}var Zt=function(e,r){if(e&&r){var t=Array.isArray(r)?r:r.split(","),n=e.name||"",o=(e.type||"").toLowerCase(),a=o.replace(/\/.*$/,"");return t.some(function(l){var c=l.trim().toLowerCase();return c.charAt(0)==="."?n.toLowerCase().endsWith(c):c.endsWith("/*")?a===c.replace(/\/.*$/,""):o===c})}return!0};function lr(e){return Xt(e)||Jt(e)||zr(e)||Qt()}function Qt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Xt(e){if(Array.isArray(e))return $e(e)}function cr(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function ur(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?cr(Object(t),!0).forEach(function(n){Mr(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):cr(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Mr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function ce(e,r){return tn(e)||rn(e,r)||zr(e,r)||en()}function en(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zr(e,r){if(e){if(typeof e=="string")return $e(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return $e(e,r)}}function $e(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function rn(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,c;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(p){a=!0,c=p}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw c}}return n}}function tn(e){if(Array.isArray(e))return e}var nn="file-invalid-type",on="file-too-large",an="file-too-small",sn="too-many-files",ln=function(r){r=Array.isArray(r)&&r.length===1?r[0]:r;var t=Array.isArray(r)?"one of ".concat(r.join(", ")):r;return{code:nn,message:"File type must be ".concat(t)}},pr=function(r){return{code:on,message:"File is larger than ".concat(r," ").concat(r===1?"byte":"bytes")}},fr=function(r){return{code:an,message:"File is smaller than ".concat(r," ").concat(r===1?"byte":"bytes")}},cn={code:sn,message:"Too many files"};function $r(e,r){var t=e.type==="application/x-moz-file"||Zt(e,r);return[t,t?null:ln(r)]}function Wr(e,r,t){if(V(e.size))if(V(r)&&V(t)){if(e.size>t)return[!1,pr(t)];if(e.size<r)return[!1,fr(r)]}else{if(V(r)&&e.size<r)return[!1,fr(r)];if(V(t)&&e.size>t)return[!1,pr(t)]}return[!0,null]}function V(e){return e!=null}function un(e){var r=e.files,t=e.accept,n=e.minSize,o=e.maxSize,a=e.multiple,l=e.maxFiles,c=e.validator;return!a&&r.length>1||a&&l>=1&&r.length>l?!1:r.every(function(p){var g=$r(p,t),d=ce(g,1),m=d[0],v=Wr(p,n,o),b=ce(v,1),h=b[0],_=c?c(p):null;return m&&h&&!_})}function Ee(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function ye(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(r){return r==="Files"||r==="application/x-moz-file"}):!!e.target&&!!e.target.files}function dr(e){e.preventDefault()}function pn(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function fn(e){return e.indexOf("Edge/")!==-1}function dn(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return pn(e)||fn(e)}function B(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return function(n){for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return r.some(function(c){return!Ee(n)&&c&&c.apply(void 0,[n].concat(a)),Ee(n)})}}function mn(){return"showOpenFilePicker"in window}function gn(e){if(V(e)){var r=Object.entries(e).filter(function(t){var n=ce(t,2),o=n[0],a=n[1],l=!0;return Br(o)||(console.warn('Skipped "'.concat(o,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),l=!1),(!Array.isArray(a)||!a.every(Gr))&&(console.warn('Skipped "'.concat(o,'" because an invalid file extension was provided.')),l=!1),l}).reduce(function(t,n){var o=ce(n,2),a=o[0],l=o[1];return ur(ur({},t),{},Mr({},a,l))},{});return[{accept:r}]}return e}function bn(e){if(V(e))return Object.entries(e).reduce(function(r,t){var n=ce(t,2),o=n[0],a=n[1];return[].concat(lr(r),[o],lr(a))},[]).filter(function(r){return Br(r)||Gr(r)}).join(",")}function hn(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function vn(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function Br(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}function Gr(e){return/^.*\.[\w]+$/.test(e)}var yn=["children"],xn=["open"],Dn=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],En=["refKey","onChange","onClick"];function Fn(e){return jn(e)||Cn(e)||Hr(e)||wn()}function wn(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cn(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function jn(e){if(Array.isArray(e))return We(e)}function Te(e,r){return On(e)||_n(e,r)||Hr(e,r)||kn()}function kn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hr(e,r){if(e){if(typeof e=="string")return We(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return We(e,r)}}function We(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function _n(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,c;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(p){a=!0,c=p}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw c}}return n}}function On(e){if(Array.isArray(e))return e}function mr(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function F(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?mr(Object(t),!0).forEach(function(n){Be(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):mr(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Be(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Fe(e,r){if(e==null)return{};var t=An(e,r),n,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(t[n]=e[n])}return t}function An(e,r){if(e==null)return{};var t={},n=Object.keys(e),o,a;for(a=0;a<n.length;a++)o=n[a],!(r.indexOf(o)>=0)&&(t[o]=e[o]);return t}var Ue=u.forwardRef(function(e,r){var t=e.children,n=Fe(e,yn),o=Ur(n),a=o.open,l=Fe(o,xn);return u.useImperativeHandle(r,function(){return{open:a}},[a]),S.createElement(u.Fragment,null,t(F(F({},l),{},{open:a})))});Ue.displayName="Dropzone";var Kr={disabled:!1,getFilesFromEvent:Wt,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};Ue.defaultProps=Kr;Ue.propTypes={children:x.func,accept:x.objectOf(x.arrayOf(x.string)),multiple:x.bool,preventDropOnDocument:x.bool,noClick:x.bool,noKeyboard:x.bool,noDrag:x.bool,noDragEventsBubbling:x.bool,minSize:x.number,maxSize:x.number,maxFiles:x.number,disabled:x.bool,getFilesFromEvent:x.func,onFileDialogCancel:x.func,onFileDialogOpen:x.func,useFsAccessApi:x.bool,autoFocus:x.bool,onDragEnter:x.func,onDragLeave:x.func,onDragOver:x.func,onDrop:x.func,onDropAccepted:x.func,onDropRejected:x.func,onError:x.func,validator:x.func};var Ge={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function Ur(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=F(F({},Kr),e),t=r.accept,n=r.disabled,o=r.getFilesFromEvent,a=r.maxSize,l=r.minSize,c=r.multiple,p=r.maxFiles,g=r.onDragEnter,d=r.onDragLeave,m=r.onDragOver,v=r.onDrop,b=r.onDropAccepted,h=r.onDropRejected,_=r.onFileDialogCancel,P=r.onFileDialogOpen,N=r.useFsAccessApi,$=r.autoFocus,M=r.preventDropOnDocument,C=r.noClick,O=r.noKeyboard,y=r.noDrag,D=r.noDragEventsBubbling,T=r.onError,R=r.validator,E=u.useMemo(function(){return bn(t)},[t]),oe=u.useMemo(function(){return gn(t)},[t]),ae=u.useMemo(function(){return typeof P=="function"?P:gr},[P]),Z=u.useMemo(function(){return typeof _=="function"?_:gr},[_]),w=u.useRef(null),L=u.useRef(null),je=u.useReducer(Sn,Ge),H=Te(je,2),ie=H[0],I=H[1],fe=ie.isFocused,se=ie.isFileDialogActive,K=u.useRef(typeof window<"u"&&window.isSecureContext&&N&&mn()),Ve=function(){!K.current&&se&&setTimeout(function(){if(L.current){var f=L.current.files;f.length||(I({type:"closeDialog"}),Z())}},300)};u.useEffect(function(){return window.addEventListener("focus",Ve,!1),function(){window.removeEventListener("focus",Ve,!1)}},[L,se,Z,K]);var Q=u.useRef([]),qe=function(f){w.current&&w.current.contains(f.target)||(f.preventDefault(),Q.current=[])};u.useEffect(function(){return M&&(document.addEventListener("dragover",dr,!1),document.addEventListener("drop",qe,!1)),function(){M&&(document.removeEventListener("dragover",dr),document.removeEventListener("drop",qe))}},[w,M]),u.useEffect(function(){return!n&&$&&w.current&&w.current.focus(),function(){}},[w,$,n]);var U=u.useCallback(function(s){T?T(s):console.error(s)},[T]),Ye=u.useCallback(function(s){s.preventDefault(),s.persist(),be(s),Q.current=[].concat(Fn(Q.current),[s.target]),ye(s)&&Promise.resolve(o(s)).then(function(f){if(!(Ee(s)&&!D)){var j=f.length,A=j>0&&un({files:f,accept:E,minSize:l,maxSize:a,multiple:c,maxFiles:p,validator:R}),z=j>0&&!A;I({isDragAccept:A,isDragReject:z,isDragActive:!0,type:"setDraggedFiles"}),g&&g(s)}}).catch(function(f){return U(f)})},[o,g,U,D,E,l,a,c,p,R]),Ze=u.useCallback(function(s){s.preventDefault(),s.persist(),be(s);var f=ye(s);if(f&&s.dataTransfer)try{s.dataTransfer.dropEffect="copy"}catch{}return f&&m&&m(s),!1},[m,D]),Qe=u.useCallback(function(s){s.preventDefault(),s.persist(),be(s);var f=Q.current.filter(function(A){return w.current&&w.current.contains(A)}),j=f.indexOf(s.target);j!==-1&&f.splice(j,1),Q.current=f,!(f.length>0)&&(I({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),ye(s)&&d&&d(s))},[w,d,D]),de=u.useCallback(function(s,f){var j=[],A=[];s.forEach(function(z){var le=$r(z,E),ee=Te(le,2),_e=ee[0],Oe=ee[1],Ae=Wr(z,l,a),he=Te(Ae,2),Se=he[0],Pe=he[1],Ne=R?R(z):null;if(_e&&Se&&!Ne)j.push(z);else{var Ie=[Oe,Pe];Ne&&(Ie=Ie.concat(Ne)),A.push({file:z,errors:Ie.filter(function(Jr){return Jr})})}}),(!c&&j.length>1||c&&p>=1&&j.length>p)&&(j.forEach(function(z){A.push({file:z,errors:[cn]})}),j.splice(0)),I({acceptedFiles:j,fileRejections:A,type:"setFiles"}),v&&v(j,A,f),A.length>0&&h&&h(A,f),j.length>0&&b&&b(j,f)},[I,c,E,l,a,p,v,b,h,R]),me=u.useCallback(function(s){s.preventDefault(),s.persist(),be(s),Q.current=[],ye(s)&&Promise.resolve(o(s)).then(function(f){Ee(s)&&!D||de(f,s)}).catch(function(f){return U(f)}),I({type:"reset"})},[o,de,U,D]),J=u.useCallback(function(){if(K.current){I({type:"openDialog"}),ae();var s={multiple:c,types:oe};window.showOpenFilePicker(s).then(function(f){return o(f)}).then(function(f){de(f,null),I({type:"closeDialog"})}).catch(function(f){hn(f)?(Z(f),I({type:"closeDialog"})):vn(f)?(K.current=!1,L.current?(L.current.value=null,L.current.click()):U(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):U(f)});return}L.current&&(I({type:"openDialog"}),ae(),L.current.value=null,L.current.click())},[I,ae,Z,N,de,U,oe,c]),Je=u.useCallback(function(s){!w.current||!w.current.isEqualNode(s.target)||(s.key===" "||s.key==="Enter"||s.keyCode===32||s.keyCode===13)&&(s.preventDefault(),J())},[w,J]),Xe=u.useCallback(function(){I({type:"focus"})},[]),er=u.useCallback(function(){I({type:"blur"})},[]),rr=u.useCallback(function(){C||(dn()?setTimeout(J,0):J())},[C,J]),X=function(f){return n?null:f},ke=function(f){return O?null:X(f)},ge=function(f){return y?null:X(f)},be=function(f){D&&f.stopPropagation()},Yr=u.useMemo(function(){return function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=s.refKey,j=f===void 0?"ref":f,A=s.role,z=s.onKeyDown,le=s.onFocus,ee=s.onBlur,_e=s.onClick,Oe=s.onDragEnter,Ae=s.onDragOver,he=s.onDragLeave,Se=s.onDrop,Pe=Fe(s,Dn);return F(F(Be({onKeyDown:ke(B(z,Je)),onFocus:ke(B(le,Xe)),onBlur:ke(B(ee,er)),onClick:X(B(_e,rr)),onDragEnter:ge(B(Oe,Ye)),onDragOver:ge(B(Ae,Ze)),onDragLeave:ge(B(he,Qe)),onDrop:ge(B(Se,me)),role:typeof A=="string"&&A!==""?A:"presentation"},j,w),!n&&!O?{tabIndex:0}:{}),Pe)}},[w,Je,Xe,er,rr,Ye,Ze,Qe,me,O,y,n]),Zr=u.useCallback(function(s){s.stopPropagation()},[]),Qr=u.useMemo(function(){return function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=s.refKey,j=f===void 0?"ref":f,A=s.onChange,z=s.onClick,le=Fe(s,En),ee=Be({accept:E,multiple:c,type:"file",style:{display:"none"},onChange:X(B(A,me)),onClick:X(B(z,Zr)),tabIndex:-1},j,L);return F(F({},ee),le)}},[L,t,c,me,n]);return F(F({},ie),{},{isFocused:fe&&!n,getRootProps:Yr,getInputProps:Qr,rootRef:w,inputRef:L,open:X(J)})}function Sn(e,r){switch(r.type){case"focus":return F(F({},e),{},{isFocused:!0});case"blur":return F(F({},e),{},{isFocused:!1});case"openDialog":return F(F({},Ge),{},{isFileDialogActive:!0});case"closeDialog":return F(F({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return F(F({},e),{},{isDragActive:r.isDragActive,isDragAccept:r.isDragAccept,isDragReject:r.isDragReject});case"setFiles":return F(F({},e),{},{acceptedFiles:r.acceptedFiles,fileRejections:r.fileRejections});case"reset":return F({},Ge);default:return e}}function gr(){}const Pn=(e,r)=>r.map(t=>({key:`${e==="/"?"":e}/${t.name}`,file:t,formattedSize:t.size/1e6+"MB",name:t.name.split(".").slice(0,-1).join(),uploaded:!1})),Vr={currentPath:"/",uploadingFiles:[],showNewFolderCreator:!1,workingFolders:{},files:void 0,isError:!1,isLoading:!0,mutateFiles:()=>{},mutateFolders:()=>{},getDropZoneInputProps:()=>{},getDropZoneRootProps:()=>{},openFilePicker:()=>{},updateValue:()=>{}},qr=u.createContext(Vr),ne=()=>u.useContext(qr);function Nn(e,{name:r,value:t}){return{...e,[r]:t}}const In=ft(),Tn=({children:e,currentFolder:r,onFolderChange:t,onToggleSelectedFile:n,selectedFileIds:o,fileQueryParameters:a})=>{const[l,c]=u.useReducer(Nn,Vr),{data:p,isError:g,isLoading:d,mutateFiles:m,mutateFolders:v,refetchFiles:b}=Tr(r,a==null?void 0:a.where),h=u.useCallback((C,O)=>{if(C==="currentPath"){t(String(O));return}c({name:C,value:O})},[c]),_=u.useCallback(async C=>{let O=Pn(r,C);h("uploadingFiles",O);const y=q.show({title:G(k.UPLOADING).toString(),message:G(k.UPLOADING_FILES).toString(),color:"blue",autoClose:!1});for(const{key:D,file:T}of O){try{await Y.library.files.create(T,{root:r})}catch(R){let E=G(k.FILE_CANNOT_BE_UPLOADED).toString();R instanceof ut?(E+=" ",E+=G(k.FILE_TOO_LARGE).toString()):R instanceof pt&&(E+=" ",E+=G(k.FILE_EXTENSION_UNSUPPORTED).toString().replaceAll("{{extension}}",T.name.split(".").at(-1)??"extension")),q.show({title:G(k.UPLOADING_FAILED).toString(),message:E.replaceAll("{{fileName}}",T.name??"file"),color:"red",autoClose:8e3,loading:!1}),In.error(R)}O=O.filter(({key:R})=>R!==D),h("uploadingFiles",O),await b()}q.update({id:y,title:i.jsx(i.Fragment,{children:G(k.UPLOADING_FINISHED)}),message:G(k.ALL_FILES_HAS_BEEN_PROCESSED).toString(),color:"green",autoClose:3e3,loading:!1})},[h,r,m]),{getInputProps:P,getRootProps:N,open:$}=Ur({onDrop:_,noClick:!0,noKeyboard:!0}),M=u.useMemo(()=>({...l,onToggleSelectedFile:n,selectedFileIds:o,files:p,isError:g,isLoading:d,updateValue:h,openFilePicker:$,getDropZoneRootProps:N,getDropZoneInputProps:P,currentPath:r,mutateFiles:m,mutateFolders:v}),[p,g,d,h,$,N,P,r,m,v,l,n,o]);return i.jsxs(qr.Provider,{value:M,children:[i.jsx("input",{...P({className:"hidden"})}),e]})},br=({isLast:e,onClick:r,icon:t,title:n,label:o})=>i.jsxs(i.Fragment,{children:[i.jsxs(dt,{onClick:r,className:W("flex flex-none items-center",e&&"pointer-events-none"),title:o,children:[i.jsx(t,{className:"w-6 text-blue-500"}),n&&i.jsx("span",{className:W("ml-2 text-lg font-semibold",e&&"underline"),children:n})]}),!e&&i.jsx("span",{className:"mx-2 flex-none text-2xl font-semibold text-gray-300",children:"/"})]}),Rn=()=>{const{currentPath:e,updateValue:r}=ne(),t=u.useMemo(()=>e.split("/").filter(o=>!!o),[e]),n=u.useCallback(o=>()=>{r("currentPath",o)},[r]);return i.jsxs("nav",{role:"navigation",className:"flex w-full overflow-auto items-center ml-2",children:[i.jsx(br,{icon:mt,onClick:n("/"),isLast:!t.length}),t.map((o,a)=>i.jsx(br,{icon:wr,label:"/"+t.slice(0,a+1).join("/"),onClick:n("/"+t.slice(0,a+1).join("/")),title:o,isLast:a===t.length-1},o))]})},Ln=()=>{const{updateValue:e,openFilePicker:r}=ne(),{t}=we();return i.jsx("div",{className:"ml-3 h-full flex-none",children:i.jsxs("div",{className:"flex",children:[i.jsx(Me,{size:"sm",className:"rounded-r-none",onClick:r,children:t(k.ADD_NEW_FILE)}),i.jsxs(ve,{withArrow:!0,arrowPosition:"center",position:"bottom-end",children:[i.jsx(ve.Target,{children:i.jsx(He,{variant:"outline",className:"rounded-l-none flex-none h-full py-1.5 px-1 w-auto",size:"md",children:i.jsx(gt,{size:22})})}),i.jsx(ve.Dropdown,{children:i.jsx(ve.Item,{color:"blue",leftSection:i.jsx(Cr,{className:"w-4"}),onClick:()=>e("showNewFolderCreator",!0),children:t(k.ADD_NEW_FOLDER)})})]})]})})},Mn=()=>i.jsxs("section",{className:"mb-5 flex h-[55px] p-2 items-center rounded-prom shadow-md shadow-blue-100 bg-white dark:bg-transparent dark:shadow-none border-blue-200 border dark:border-none",children:[i.jsx(Rn,{}),i.jsx(Ln,{})]}),zn=({isOpen:e,onClose:r})=>{const{getDropZoneRootProps:t}=ne(),{t:n}=we();return i.jsx(xt,{opened:e,onClose:r,children:i.jsx("div",{...t({className:"flex h-full min-h-[750px] w-full rounded-2xl border-4 border-dashed border-blue-300 bg-gray-100"}),children:i.jsx("div",{className:"m-auto text-center",children:i.jsx("p",{className:"text-xl font-semibold text-gray-400",children:n(k.DRAG_FILES_HERE)})})})})},pe=()=>({itemsWrap:W("grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-3 md:gap-5 items-start relative"),itemRoot:W("relative block group"),itemSquare:(e=!0)=>W("aspect-square w-full rounded-lg shadow-md overflow-hidden relative border-blue-200 border","dark:border-2 dark:border-dashed backdrop-blur-md bg-blue-50/50 dark:backdrop-blur-md dark:bg-gray-800 sm:dark:bg-opacity-60",e?"group-hover:shadow-lg duration-200":"cursor-default"),itemLabel:W("mt-2 overflow-hidden text-ellipsis font-semibold group-hover:underline dark:text-gray-800")}),Re=pe(),$n=({itemId:e,children:r,className:t,...n})=>i.jsx("a",{href:`/admin${bt.files.view(e)}`,...n,children:r}),Wn=({onDeleteClick:e,onTogglePick:r,isPicked:t,...n})=>{var m,v;const o=u.useRef(null),a=n.filename.split(".").at(-1)||"unknown",c=(((v=(m=n.mimeType)==null?void 0:m.split("/"))==null?void 0:v[0])||"unknown")==="image",p=u.useCallback(()=>{e(n.id),r&&r(n,!1)},[n.id,e,r]),g=u.useCallback(b=>r?r(n,b.currentTarget.checked):null,[n.id,r]),d=u.useCallback(b=>{var h;r&&(b.preventDefault(),(h=o.current)==null||h.click())},[r]);return i.jsxs("article",{className:Re.itemRoot,children:[i.jsxs($n,{onClick:d,itemId:n.id,children:[i.jsx("div",{className:Re.itemSquare(),children:c?i.jsx("img",{alt:"uploaded file",className:"absolute top-0 left-0 h-full w-full object-cover",src:Y.library.files.getUrl(n.id,{w:"250",q:"60"}).toString()}):i.jsx("div",{className:"flex h-full w-full",children:i.jsx("p",{className:"m-auto text-3xl font-bold text-gray-400",children:a})})}),i.jsx("h3",{className:Re.itemLabel,children:n.filename})]}),i.jsxs("div",{className:"absolute top-0 right-0 m-2.5 flex gap-2",children:[r?i.jsx(Ce,{ref:o,checked:t,onChange:g,color:"blue",size:"lg",className:"flex-none cursor-pointer"}):null,i.jsx(He,{onClick:p,size:31,color:"red",className:"flex-none",children:i.jsx(jr,{size:20})})]})]})},hr=["w-4/5","w-1/2","w-1/3","w-4/6","w-8/12"],vr=({animate:e,className:r})=>{const t=pe(),n=u.useRef(hr[Math.floor(Math.random()*hr.length)]);return i.jsxs("div",{className:r,children:[i.jsx(ar,{animate:e,className:t.itemSquare(!1)}),i.jsx(ar,{animate:e,className:W(t.itemLabel,n.current,"h-7")})]})},Bn=({itemKey:e,name:r,onClick:t,onDeleteClick:n})=>{var h,_;const{currentPath:o,workingFolders:a}=ne(),[l,c]=u.useState(!1),p=pe(),g=u.useMemo(()=>`${o==="/"?"":o}/${e}`,[e,o]),d=()=>c(!l),m=u.useMemo(()=>l?wr:ht,[l]),v=u.useCallback(()=>t(g),[t,g]),b=u.useCallback(()=>n(g),[n,g]);return i.jsxs("div",{className:p.itemRoot,onMouseEnter:d,onMouseLeave:d,role:"link",children:[i.jsx("div",{className:W(p.itemSquare(),"flex cursor-pointer"),onClick:v,children:i.jsx(m,{className:"m-auto block h-16 w-16 text-blue-500"})}),i.jsx("h3",{className:W(p.itemLabel,"cursor-pointer text-left"),onClick:v,children:r}),i.jsx("div",{className:"absolute top-0 right-0 m-2.5",children:i.jsx(He,{onClick:b,size:31,color:"red",disabled:((h=a[g])==null?void 0:h.type)==="deleting"||((_=a[g])==null?void 0:_.type)==="uploading",children:i.jsx(jr,{size:20})})})]})},Gn=({styles:e={}})=>{var b,h;const{updateValue:r,currentPath:t}=ne(),n=pe(),{t:o}=we(),{register:a,handleSubmit:l,setFocus:c,formState:p,setError:g}=vt(),{refetchFolders:d}=Tr(t);u.useEffect(()=>{c("name")},[c]);const m=async({name:_})=>{var P;try{await Y.library.folders.create(`${t}/${_}`),await d(),r("showNewFolderCreator",!1)}catch(N){if(kr.isAxiosError(N)&&((P=N.response)==null?void 0:P.status)===409)return g("name",{message:"This folder already exists"}),!1;throw N}},v=()=>{p.isSubmitting||r("showNewFolderCreator",!1)};return i.jsxs("div",{className:W(n.itemRoot,"text-left",p.isSubmitting&&"cursor-wait"),style:e,children:[i.jsx("div",{className:W(n.itemSquare(!1),"flex"),children:i.jsx(Cr,{className:"m-auto h-16 w-16 text-blue-500"})}),i.jsxs("form",{onSubmit:l(m),className:"relative",children:[i.jsx("input",{className:"mt-1 w-full !border-b-2 !border-blue-200 bg-transparent text-lg font-medium outline-0 disabled:opacity-50",disabled:p.isSubmitting||p.isSubmitSuccessful,autoComplete:"off",...a("name",{onBlur:v})}),((h=(b=p.errors)==null?void 0:b.name)==null?void 0:h.message)&&i.jsx("small",{className:"b-0 translate-y-full text-lg font-semibold text-red-500",children:o(p.errors.name.message)})]})]})},Hn=()=>{var $,M,C,O;const{isLoading:e,isError:r,files:t,showNewFolderCreator:n,updateValue:o,uploadingFiles:a,workingFolders:l,mutateFiles:c,mutateFolders:p,onToggleSelectedFile:g,selectedFileIds:d,openFilePicker:m}=ne(),v=pe(),{t:b}=we(),h=u.useCallback(y=>{o("currentPath",y)},[o]),_=u.useCallback(async y=>{var T;const D=q.show({loading:!0,title:b(k.DELETING_FOLDER),message:b(k.DELETING_FOLDER)+"...",autoClose:!1});if(confirm(b(k.DELETE_FOLDER_QUESTION))){const R=y.split("/").at(-1);o("workingFolders",{...l,path:{type:"deleting"}});try{await Y.library.folders.delete(y),p(E=>E==null?void 0:E.filter(oe=>oe!==R)),o("workingFolders",{...l,path:{type:"none"}}),q.update({id:D,color:"green",message:b(k.DELETING_FOLDER_DONE),autoClose:2e3,loading:!1})}catch(E){if(console.log(E),kr.isAxiosError(E)&&((T=E.response)==null?void 0:T.status)===400){q.update({id:D,color:"red",message:b(k.DELETING_FOLDER_FAILED_NOT_EMPTY),autoClose:2e3,loading:!1});return}q.update({id:D,color:"red",message:b(k.ERROR_BASIC),autoClose:2e3,loading:!1})}}},[l,o,p,b]),P=u.useCallback(async y=>{confirm(b(k.DELETE_FILE_QUESTION))&&(await Y.library.files.delete(y),c(D=>D&&{...D,data:{...D.data,data:D.data.data.filter(T=>T.id!==y)}}))},[c,b]);if(e||r)return i.jsx("div",{className:v.itemsWrap,children:new Array(10).fill(!0).map((y,D)=>i.jsx(vr,{},D))});const N=!(($=t==null?void 0:t.folders)!=null&&$.length)&&!((M=t==null?void 0:t.files)!=null&&M.length)&&!n;return i.jsxs("div",{className:v.itemsWrap,children:[(C=t==null?void 0:t.folders)==null?void 0:C.map(y=>i.jsx(Bn,{itemKey:y,name:y,onClick:h,onDeleteClick:_},y)),(O=t==null?void 0:t.files)==null?void 0:O.map(y=>i.jsx(Wn,{onDeleteClick:P,isPicked:!!(d!=null&&d.find(D=>D.id===y.id)),onTogglePick:g,...y},y.id)),i.jsx(yt,{mounted:n,transition:"pop-top-left",duration:200,timingFunction:"ease",children:y=>i.jsx(Gn,{styles:y})}),Object.entries(a).map(([y])=>i.jsx(vr,{},y)),N?i.jsx(i.Fragment,{children:i.jsx("div",{className:"col-span-full flex items-center bg-white dark:bg-transparent backdrop-blur-md bg-opacity-40 dark:bg-opacity-0 shadow-blue-100 rounded-prom py-20 border-2 border-dashed border-blue-200",children:i.jsxs("div",{className:"flex flex-col mx-auto",children:[i.jsx(Et,{}),i.jsxs("div",{className:"flex gap-5 mt-5",children:[i.jsx(Me,{onClick:m,children:b(k.ADD_NEW_FILE)}),i.jsx(Me,{onClick:()=>o("showNewFolderCreator",!0),children:b(k.ADD_NEW_FOLDER)})]})]})})}):null]})},Zn=({currentFolder:e,onFolderChange:r,selectedFileIds:t,onToggleSelectedFile:n,fileQueryParameters:o})=>{const[a,l]=u.useState(!1),c=u.useCallback(d=>{var m;d.preventDefault(),!a&&(((m=d==null?void 0:d.dataTransfer)==null?void 0:m.types)||[]).join("")==="Files"&&l(!0)},[a,l]),p=u.useCallback(d=>{d.preventDefault(),a&&l(!1)},[a,l]),g=u.useCallback(()=>l(!1),[l]);return i.jsx(Tn,{currentFolder:e,onFolderChange:r,selectedFileIds:t,onToggleSelectedFile:n,fileQueryParameters:o,children:i.jsxs("div",{onDragOver:c,onDrop:p,children:[i.jsx(Mn,{}),i.jsx(Hn,{}),i.jsx(zn,{isOpen:a,onClose:g})]})})};export{Ce as C,Zn as F};

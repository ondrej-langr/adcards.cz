import{g as p,h as R,a8 as d,b as N,a as _,aD as S,u as L,r as u,j as e,M as t,c as f,ab as c,B as I,e as b}from"./index-cac_S5g_.js";import{L as h}from"./LanguageSelect-RQYXE7_C.js";import{u as x}from"./useRequestWithNotifications-Dhk4Xh5J.js";import{M as j}from"./Modal-RveEWUIE.js";import"./Flag-pb9lmjDx.js";import"./Skeleton-eoevnRmQ.js";import"./Select-ZUVIaLDV.js";import"./NativeScrollArea-Q3mUJQz_.js";import"./Overlay-RVC-BiIf.js";const z=p("/_authorized/settings/translations/$lang/keys/create/")({component:C});function C(){const i=R(),n=d(),r=N(),E=x(),{lang:a}=_({from:S.id}),{t:s}=L(),{handleSubmit:g,formState:A,register:l}=r,m=u.useCallback(()=>i({to:`/settings/translations/${a}`}),[i]),T=async o=>{try{E({title:s(t.PLEASE_WAIT),message:s(t.TRANSLATION_CREATE_WORKING),successMessage:s(t.TRANSLATION_CREATE_DONE)},async()=>{await b.generalTranslations.update(o.key,o.value,a),m()})}catch{}};return u.useEffect(()=>{var o;a&&n&&!((o=n.application)!=null&&o.i18n.languages.includes(a))&&i({to:"/404"})},[a,n]),e.jsx(j,{opened:!0,onClose:m,centered:!0,padding:32,size:500,className:"overflow-auto",title:s(t.TRANSLATION_CREATE_PAGE_TITLE),children:e.jsx(f,{...r,children:e.jsxs("form",{className:"h-full",onSubmit:g(T),children:[e.jsx(h,{disabled:!0,label:s(t.FOR_LANGUAGE),value:a}),e.jsx(c,{label:s(t.TRANSLATION_KEY),mt:"sm",...l("key",{min:{value:1,message:s(t.FIELD_REQUIRED)}})}),e.jsx(c,{label:s(t.TRANSLATION_VALUE),mt:"sm",description:s(t.CREATE_TRANSLATION_KEY_VALUE_DESC),...l("value",{min:{value:1,message:s(t.FIELD_REQUIRED)}})}),e.jsx(I,{className:"mr-auto block",type:"submit",loading:A.isSubmitting,mt:"lg",size:"md",children:s(t.CREATE_ITEM)})]})})})}export{z as Route};

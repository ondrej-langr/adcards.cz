import{bK as A,bL as ve,r as a,bM as T,bN as $,bO as S,bP as D,bQ as le,R as v,bR as ge,bS as Ie,bT as Y,bU as Be,ap as He,bV as j,bW as fe,bX as Ue,bY as pe,u as we,j as f,aV as U,X as We,w as K,ah as _e,ai as qe,bf as Ye,B as ze,av as Ge}from"./index-RZzWi_an.js";import{F as Xe}from"./FileList-1E17pXjI.js";function z(e){return typeof window>"u"?null:e instanceof Node?e.ownerDocument:e!=null&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}let Q=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var W=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e))(W||{}),be=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(be||{}),Ke=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(Ke||{});function Qe(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(Q))}var xe=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(xe||{});function Ve(e,t=0){var n;return e===((n=z(e))==null?void 0:n.body)?!1:A(t,{0(){return e.matches(Q)},1(){let r=e;for(;r!==null;){if(r.matches(Q))return!0;r=r.parentElement}return!1}})}function R(e){e==null||e.focus({preventScroll:!0})}let Je=["textarea","input"].join(",");function Ze(e){var t,n;return(n=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,Je))!=null?n:!1}function et(e,t=n=>n){return e.slice().sort((n,r)=>{let o=t(n),i=t(r);if(o===null||i===null)return 0;let l=o.compareDocumentPosition(i);return l&Node.DOCUMENT_POSITION_FOLLOWING?-1:l&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function V(e,t,n=!0){let r=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,o=Array.isArray(e)?n?et(e):e:Qe(e),i=r.activeElement,l=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,o.indexOf(i))-1;if(t&4)return Math.max(0,o.indexOf(i))+1;if(t&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),s=t&32?{preventScroll:!0}:{},d=0,c=o.length,p;do{if(d>=c||d+c<=0)return 0;let m=u+d;if(t&16)m=(m+c)%c;else{if(m<0)return 3;if(m>=c)return 1}p=o[m],p==null||p.focus(s),d+=l}while(p!==r.activeElement);return t&6&&Ze(p)&&p.select(),p.hasAttribute("tabindex")||p.setAttribute("tabindex","0"),2}function J(e,t,n){let r=ve(t);a.useEffect(()=>{function o(i){r.current(i)}return window.addEventListener(e,o,n),()=>window.removeEventListener(e,o,n)},[e,n])}function tt(e,t,n=!0){let r=a.useRef(!1);a.useEffect(()=>{requestAnimationFrame(()=>{r.current=n})},[n]);function o(i,l){if(!r.current||i.defaultPrevented)return;let u=function d(c){return typeof c=="function"?d(c()):Array.isArray(c)||c instanceof Set?c:[c]}(e),s=l(i);if(s!==null&&s.ownerDocument.documentElement.contains(s)){for(let d of u){if(d===null)continue;let c=d instanceof HTMLElement?d:d.current;if(c!=null&&c.contains(s))return}return!Ve(s,xe.Loose)&&s.tabIndex!==-1&&i.preventDefault(),t(i,s)}}J("click",i=>o(i,l=>l.target),!0),J("blur",i=>o(i,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function nt(e){let t=e.parentElement,n=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(n=t),t=t.parentElement;let r=(t==null?void 0:t.getAttribute("disabled"))==="";return r&&rt(n)?!1:r}function rt(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}let ot="div";var _=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(_||{});let Z=T(function(e,t){let{features:n=1,...r}=e,o={ref:t,"aria-hidden":(n&2)===2?!0:void 0,style:{position:"absolute",width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(n&4)===4&&(n&2)!==2&&{display:"none"}}};return $({ourProps:o,theirProps:r,slot:{},defaultTag:ot,name:"Hidden"})});var Ee=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(Ee||{}),ee=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(ee||{});function lt(){let e=a.useRef(0);return J("keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function G(...e){return a.useMemo(()=>z(...e),[...e])}function ie(e,t,n,r){let o=ve(n);a.useEffect(()=>{e=e??window;function i(l){o.current(l)}return e.addEventListener(t,i,r),()=>e.removeEventListener(t,i,r)},[e,t,r])}function ye(e,t){let n=a.useRef([]),r=S(e);a.useEffect(()=>{for(let[o,i]of t.entries())if(n.current[o]!==i){let l=r(t);return n.current=t,l}},[r,...t])}let it="div";var Fe=(e=>(e[e.None=1]="None",e[e.InitialFocus=2]="InitialFocus",e[e.TabLock=4]="TabLock",e[e.FocusLock=8]="FocusLock",e[e.RestoreFocus=16]="RestoreFocus",e[e.All=30]="All",e))(Fe||{});let O=Object.assign(T(function(e,t){let n=a.useRef(null),r=D(n,t),{initialFocus:o,containers:i,features:l=30,...u}=e;le()||(l=1);let s=G(n);at({ownerDocument:s},!!(l&16));let d=ut({ownerDocument:s,container:n,initialFocus:o},!!(l&2));st({ownerDocument:s,container:n,containers:i,previousActiveElement:d},!!(l&8));let c=lt(),p=S(()=>{let w=n.current;!w||A(c.current,{[ee.Forwards]:()=>V(w,W.First),[ee.Backwards]:()=>V(w,W.Last)})}),m={ref:r};return v.createElement(v.Fragment,null,!!(l&4)&&v.createElement(Z,{as:"button",type:"button",onFocus:p,features:_.Focusable}),$({ourProps:m,theirProps:u,defaultTag:it,name:"FocusTrap"}),!!(l&4)&&v.createElement(Z,{as:"button",type:"button",onFocus:p,features:_.Focusable}))}),{features:Fe});function at({ownerDocument:e},t){let n=a.useRef(null);ie(e==null?void 0:e.defaultView,"focusout",o=>{!t||n.current||(n.current=o.target)},!0),ye(()=>{t||((e==null?void 0:e.activeElement)===(e==null?void 0:e.body)&&R(n.current),n.current=null)},[t]);let r=a.useRef(!1);a.useEffect(()=>(r.current=!1,()=>{r.current=!0,ge(()=>{!r.current||(R(n.current),n.current=null)})}),[])}function ut({ownerDocument:e,container:t,initialFocus:n},r){let o=a.useRef(null);return ye(()=>{if(!r)return;let i=t.current;if(!i)return;let l=e==null?void 0:e.activeElement;if(n!=null&&n.current){if((n==null?void 0:n.current)===l){o.current=l;return}}else if(i.contains(l)){o.current=l;return}n!=null&&n.current?R(n.current):V(i,W.First)===be.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),o.current=e==null?void 0:e.activeElement},[r]),o}function st({ownerDocument:e,container:t,containers:n,previousActiveElement:r},o){let i=Ie();ie(e==null?void 0:e.defaultView,"focus",l=>{if(!o||!i.current)return;let u=new Set(n==null?void 0:n.current);u.add(t);let s=r.current;if(!s)return;let d=l.target;d&&d instanceof HTMLElement?ct(u,d)?(r.current=d,R(d)):(l.preventDefault(),l.stopPropagation(),R(s)):R(r.current)},!0)}function ct(e,t){var n;for(let r of e)if((n=r.current)!=null&&n.contains(t))return!0;return!1}let C=new Set,P=new Map;function me(e){e.setAttribute("aria-hidden","true"),e.inert=!0}function he(e){let t=P.get(e);!t||(t["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",t["aria-hidden"]),e.inert=t.inert)}function dt(e,t=!0){Y(()=>{if(!t||!e.current)return;let n=e.current,r=z(n);if(r){C.add(n);for(let o of P.keys())o.contains(n)&&(he(o),P.delete(o));return r.querySelectorAll("body > *").forEach(o=>{if(o instanceof HTMLElement){for(let i of C)if(o.contains(i))return;C.size===1&&(P.set(o,{"aria-hidden":o.getAttribute("aria-hidden"),inert:o.inert}),me(o))}}),()=>{if(C.delete(n),C.size>0)r.querySelectorAll("body > *").forEach(o=>{if(o instanceof HTMLElement&&!P.has(o)){for(let i of C)if(o.contains(i))return;P.set(o,{"aria-hidden":o.getAttribute("aria-hidden"),inert:o.inert}),me(o)}});else for(let o of P.keys())he(o),P.delete(o)}}},[t])}let Te=a.createContext(!1);function ft(){return a.useContext(Te)}function te(e){return v.createElement(Te.Provider,{value:e.force},e.children)}function pt(e){let t=ft(),n=a.useContext($e),r=G(e),[o,i]=a.useState(()=>{if(!t&&n!==null||typeof window>"u")return null;let l=r==null?void 0:r.getElementById("headlessui-portal-root");if(l)return l;if(r===null)return null;let u=r.createElement("div");return u.setAttribute("id","headlessui-portal-root"),r.body.appendChild(u)});return a.useEffect(()=>{o!==null&&(r!=null&&r.body.contains(o)||r==null||r.body.appendChild(o))},[o,r]),a.useEffect(()=>{t||n!==null&&i(n.current)},[n,i,t]),o}let mt=a.Fragment,ht=T(function(e,t){let n=e,r=a.useRef(null),o=D(Be(c=>{r.current=c}),t),i=G(r),l=pt(r),[u]=a.useState(()=>{var c;return typeof window>"u"?null:(c=i==null?void 0:i.createElement("div"))!=null?c:null}),s=le(),d=a.useRef(!1);return Y(()=>{if(d.current=!1,!(!l||!u))return l.contains(u)||(u.setAttribute("data-headlessui-portal",""),l.appendChild(u)),()=>{d.current=!0,ge(()=>{var c;!d.current||!l||!u||(l.removeChild(u),l.childNodes.length<=0&&((c=l.parentElement)==null||c.removeChild(l)))})}},[l,u]),s?!l||!u?null:He.createPortal($({ourProps:{ref:o},theirProps:n,defaultTag:mt,name:"Portal"}),u):null}),vt=a.Fragment,$e=a.createContext(null),gt=T(function(e,t){let{target:n,...r}=e,o={ref:D(t)};return v.createElement($e.Provider,{value:n},$({ourProps:o,theirProps:r,defaultTag:vt,name:"Popover.Group"}))}),ne=Object.assign(ht,{Group:gt}),Se=a.createContext(null);function De(){let e=a.useContext(Se);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,De),t}return e}function wt(){let[e,t]=a.useState([]);return[e.length>0?e.join(" "):void 0,a.useMemo(()=>function(n){let r=S(i=>(t(l=>[...l,i]),()=>t(l=>{let u=l.slice(),s=u.indexOf(i);return s!==-1&&u.splice(s,1),u}))),o=a.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props}),[r,n.slot,n.name,n.props]);return v.createElement(Se.Provider,{value:o},n.children)},[t])]}let bt="p",xt=T(function(e,t){let n=De(),r=`headlessui-description-${j()}`,o=D(t);Y(()=>n.register(r),[r,n.register]);let i=e,l={ref:o,...n.props,id:r};return $({ourProps:l,theirProps:i,slot:n.slot||{},defaultTag:bt,name:n.name||"Description"})}),ae=a.createContext(()=>{});ae.displayName="StackContext";var re=(e=>(e[e.Add=0]="Add",e[e.Remove=1]="Remove",e))(re||{});function Et(){return a.useContext(ae)}function yt({children:e,onUpdate:t,type:n,element:r}){let o=Et(),i=S((...l)=>{t==null||t(...l),o(...l)});return Y(()=>(i(0,n,r),()=>i(1,n,r)),[i,n,r]),v.createElement(ae.Provider,{value:i},e)}var Ft=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Ft||{}),Tt=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(Tt||{});let $t={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},q=a.createContext(null);q.displayName="DialogContext";function I(e){let t=a.useContext(q);if(t===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,I),n}return t}function St(e,t){return A(t.type,$t,e,t)}let Dt="div",Pt=fe.RenderStrategy|fe.Static,Ct=T(function(e,t){let{open:n,onClose:r,initialFocus:o,__demoMode:i=!1,...l}=e,[u,s]=a.useState(0),d=Ue();n===void 0&&d!==null&&(n=A(d,{[pe.Open]:!0,[pe.Closed]:!1}));let c=a.useRef(new Set),p=a.useRef(null),m=D(p,t),w=a.useRef(null),E=G(p),N=e.hasOwnProperty("open")||d!==null,k=e.hasOwnProperty("onClose");if(!N&&!k)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!N)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!k)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(typeof n!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${n}`);if(typeof r!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${r}`);let b=n?0:1,[y,B]=a.useReducer(St,{titleId:null,descriptionId:null,panelRef:a.createRef()}),x=S(()=>r(!1)),ue=S(g=>B({type:0,id:g})),X=le()?i?!1:b===0:!1,H=u>1,se=a.useContext(q)!==null,Pe=H?"parent":"leaf";dt(p,H?X:!1),tt(()=>{var g,F;return[...Array.from((g=E==null?void 0:E.querySelectorAll("body > *, [data-headlessui-portal]"))!=null?g:[]).filter(h=>!(!(h instanceof HTMLElement)||h.contains(w.current)||y.panelRef.current&&h.contains(y.panelRef.current))),(F=y.panelRef.current)!=null?F:p.current]},x,X&&!H),ie(E==null?void 0:E.defaultView,"keydown",g=>{g.defaultPrevented||g.key===Ee.Escape&&b===0&&(H||(g.preventDefault(),g.stopPropagation(),x()))}),a.useEffect(()=>{var g;if(b!==0||se)return;let F=z(p);if(!F)return;let h=F.documentElement,L=(g=F.defaultView)!=null?g:window,ke=h.style.overflow,Le=h.style.paddingRight,de=L.innerWidth-h.clientWidth;if(h.style.overflow="hidden",de>0){let Oe=h.clientWidth-h.offsetWidth,Me=de-Oe;h.style.paddingRight=`${Me}px`}return()=>{h.style.overflow=ke,h.style.paddingRight=Le}},[b,se]),a.useEffect(()=>{if(b!==0||!p.current)return;let g=new IntersectionObserver(F=>{for(let h of F)h.boundingClientRect.x===0&&h.boundingClientRect.y===0&&h.boundingClientRect.width===0&&h.boundingClientRect.height===0&&x()});return g.observe(p.current),()=>g.disconnect()},[b,p,x]);let[Ce,Ae]=wt(),Re=`headlessui-dialog-${j()}`,je=a.useMemo(()=>[{dialogState:b,close:x,setTitleId:ue},y],[b,y,x,ue]),ce=a.useMemo(()=>({open:b===0}),[b]),Ne={ref:m,id:Re,role:"dialog","aria-modal":b===0?!0:void 0,"aria-labelledby":y.titleId,"aria-describedby":Ce};return v.createElement(yt,{type:"Dialog",element:p,onUpdate:S((g,F,h)=>{F==="Dialog"&&A(g,{[re.Add](){c.current.add(h),s(L=>L+1)},[re.Remove](){c.current.add(h),s(L=>L-1)}})})},v.createElement(te,{force:!0},v.createElement(ne,null,v.createElement(q.Provider,{value:je},v.createElement(ne.Group,{target:p},v.createElement(te,{force:!1},v.createElement(Ae,{slot:ce,name:"Dialog.Description"},v.createElement(O,{initialFocus:o,containers:c,features:X?A(Pe,{parent:O.features.RestoreFocus,leaf:O.features.All&~O.features.FocusLock}):O.features.None},$({ourProps:Ne,theirProps:l,slot:ce,defaultTag:Dt,features:Pt,visible:b===0,name:"Dialog"})))))))),v.createElement(Z,{features:_.Hidden,ref:w}))}),At="div",Rt=T(function(e,t){let[{dialogState:n,close:r}]=I("Dialog.Overlay"),o=D(t),i=`headlessui-dialog-overlay-${j()}`,l=S(s=>{if(s.target===s.currentTarget){if(nt(s.currentTarget))return s.preventDefault();s.preventDefault(),s.stopPropagation(),r()}}),u=a.useMemo(()=>({open:n===0}),[n]);return $({ourProps:{ref:o,id:i,"aria-hidden":!0,onClick:l},theirProps:e,slot:u,defaultTag:At,name:"Dialog.Overlay"})}),jt="div",Nt=T(function(e,t){let[{dialogState:n},r]=I("Dialog.Backdrop"),o=D(t),i=`headlessui-dialog-backdrop-${j()}`;a.useEffect(()=>{if(r.panelRef.current===null)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[r.panelRef]);let l=a.useMemo(()=>({open:n===0}),[n]);return v.createElement(te,{force:!0},v.createElement(ne,null,$({ourProps:{ref:o,id:i,"aria-hidden":!0},theirProps:e,slot:l,defaultTag:jt,name:"Dialog.Backdrop"})))}),kt="div",Lt=T(function(e,t){let[{dialogState:n},r]=I("Dialog.Panel"),o=D(t,r.panelRef),i=`headlessui-dialog-panel-${j()}`,l=a.useMemo(()=>({open:n===0}),[n]),u=S(s=>{s.stopPropagation()});return $({ourProps:{ref:o,id:i,onClick:u},theirProps:e,slot:l,defaultTag:kt,name:"Dialog.Panel"})}),Ot="h2",Mt=T(function(e,t){let[{dialogState:n,setTitleId:r}]=I("Dialog.Title"),o=`headlessui-dialog-title-${j()}`,i=D(t);a.useEffect(()=>(r(o),()=>r(null)),[o,r]);let l=a.useMemo(()=>({open:n===0}),[n]);return $({ourProps:{ref:i,id:o},theirProps:e,slot:l,defaultTag:Ot,name:"Dialog.Title"})}),oe=Object.assign(Ct,{Backdrop:Nt,Panel:Lt,Overlay:Rt,Title:Mt,Description:xt});function It(e=[!1,!0]){const[[t],n]=a.useReducer((r,o)=>{const i=o instanceof Function?o(r[0]):o,l=Math.abs(r.indexOf(i));return r.slice(l).concat(r.slice(0,l))},e);return[t,n]}function M({isOpen:e,onClose:t,children:n}){const{t:r}=we();return f.jsx(U.Root,{show:e,as:a.Fragment,children:f.jsxs(oe,{as:"div",className:"relative z-10",onClose:t,children:[f.jsx(U.Child,{as:a.Fragment,enter:"ease-in-out duration-500",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in-out duration-500",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:f.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})}),f.jsx("div",{className:"fixed inset-0 overflow-hidden",children:f.jsx("div",{className:"absolute inset-0 overflow-hidden",children:f.jsx("div",{className:"pointer-events-none fixed inset-y-0 right-0 flex max-w-full pl-10",children:f.jsx(U.Child,{as:a.Fragment,enter:"transform transition ease-in-out duration-500 sm:duration-700",enterFrom:"translate-x-full",enterTo:"translate-x-0",leave:"transform transition ease-in-out duration-500 sm:duration-700",leaveFrom:"translate-x-0",leaveTo:"translate-x-full",children:f.jsxs(oe.Panel,{className:"pointer-events-auto relative w-screen max-w-6xl",children:[f.jsx(U.Child,{as:a.Fragment,enter:"ease-in-out duration-500",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in-out duration-500",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:f.jsx("div",{className:"absolute left-0 top-0 -ml-8 flex pr-2 pt-4 sm:-ml-10 sm:pr-4",children:f.jsxs("button",{type:"button",className:"relative rounded-md text-gray-300 hover:text-white focus:outline-none focus:ring-2 focus:ring-white bg-transparent",onClick:t,children:[f.jsx("span",{className:"absolute -inset-2.5"}),f.jsx("span",{className:"sr-only",children:r("Close")}),f.jsx(We,{className:"h-6 w-6","aria-hidden":"true"})]})})}),f.jsx("div",{className:"flex h-full flex-col overflow-y-scroll bg-white py-6 shadow-xl",children:n})]})})})})})]})})}M.Title=function({children:t}){return f.jsx("div",{className:"px-4 sm:px-6",children:f.jsx(oe.Title,{className:"text-base font-semibold leading-6 text-gray-900",children:t})})};M.Content=function({children:t}){return f.jsx("div",{className:"relative mt-6 flex-1 px-4 sm:px-6",children:t})};const Bt=({onChange:e,value:t,closeOnPick:n,title:r,isOpen:o,onClose:i,fileQueryParameters:l})=>{const[u,s]=a.useState("/"),d=a.useCallback((c,p)=>{let m=null;if(p){const w=t??[];w.find(E=>E.id===c.id)?m=w:m=[...w,{id:c.id}]}else{const w=Array.isArray(t)?t==null?void 0:t.filter(E=>String(E)!==String(c.id)):null;t=w!=null&&w.length?w:null}e(m),n&&m&&i()},[e,i,n,t]);return f.jsxs(M,{isOpen:o,onClose:i,children:[f.jsx(M.Title,{children:r}),f.jsx(M.Content,{children:f.jsx(Xe,{currentFolder:u,onFolderChange:s,selectedFileIds:t??[],onToggleSelectedFile:d,fileQueryParameters:l})})]})},Wt=a.forwardRef(function({wrapperClassName:t,label:n,className:r,selected:o,onChange:i,onBlur:l,multiple:u,error:s,classNames:d,imageWrapperProps:c,placeholderElement:p,imageProps:m},w){var B;const[E,N]=It(),{t:k}=we(),b=a.useCallback(x=>{if(u){i(x);return}i((x==null?void 0:x.at(-1))??null),l&&l()},[i,u,l]),y=a.useMemo(()=>(Array.isArray(o)?o:[o]).filter(Boolean),[o]);return f.jsxs(f.Fragment,{children:[f.jsx("div",{className:K(t,r),children:f.jsx(_e.Wrapper,{size:"md",label:n,error:s,children:f.jsxs("div",{className:K("flex items-center",d==null?void 0:d.wrapper),children:[f.jsx("div",{className:K(c!=null&&c.disableStyles?"":"relative mr-6 aspect-square w-20 overflow-hidden rounded-lg",d==null?void 0:d.imageWrapper),children:y.length?f.jsx(qe,{width:(m==null?void 0:m.width)??80,quality:(m==null?void 0:m.quality)??60,imageId:(B=y[0])==null?void 0:B.id,className:"absolute h-full w-full object-contain object-center"}):f.jsx("div",{className:"absolute flex h-full w-full bg-gray-200",children:p??f.jsx(Ye,{size:40,className:"icon icon-tabler icon-tabler-photo m-auto"})})}),f.jsx(ze,{className:"flex-none",leftSection:f.jsx(Ge,{size:20}),size:"md",onClick:()=>N(),children:k("Change")})]})})}),f.jsx(Bt,{isOpen:E,closeOnPick:!u,onChange:b,onClose:()=>N(),value:y,title:k("Choose an image"),fileQueryParameters:{where:{mimeType:{manipulator:"LIKE",value:"%image%"}}}})]})});export{Bt as F,Wt as I,It as u};

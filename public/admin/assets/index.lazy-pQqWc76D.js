import{h as E,i as b,a8 as y,b as h,a as x,aF as R,u as S,r as c,j as t,c as j,M as i,ab as m,B as L,e as N}from"./index-yOKIGyhs.js";import{L as k}from"./LanguageSelect-6tvgF7cz.js";import{u as v}from"./useRequestWithNotifications-FyVDP3uy.js";import{M as C}from"./Modal-8cyUESLD.js";import"./Skeleton-ai2isshM.js";import"./Select-Tmriee6U.js";import"./NativeScrollArea-RnWAygQU.js";import"./Overlay-cDVy-Pzy.js";const w=E("/_authorized/settings/translations/$lang/keys/create/")({component:F});function F(){const n=b(),o=y(),r=h(),g=v(),{lang:s}=x({from:R.id}),{t:e}=S(),{handleSubmit:d,formState:p,register:l}=r,u=c.useCallback(()=>n({to:`/settings/translations/${s}`}),[n]),f=async a=>{try{g({title:e("Creating translation key"),message:e("Please wait..."),successMessage:e("Translation key successfully created")},async()=>{await N.generalTranslations.update(a.key,a.value,s),u()})}catch{}};return c.useEffect(()=>{var a;s&&o&&!((a=o.application)!=null&&a.i18n.languages.includes(s))&&n({to:"/404"})},[s,o]),t.jsx(C,{opened:!0,onClose:u,centered:!0,padding:32,size:500,className:"overflow-auto",title:e("Create translation key"),children:t.jsx(j,{...r,children:t.jsxs("form",{className:"h-full",onSubmit:d(f),children:[t.jsx(k,{disabled:!0,label:e(i.FOR_LANGUAGE),value:s}),t.jsx(m,{label:e("Key title"),mt:"sm",...l("key",{min:{value:1,message:e(i.FIELD_REQUIRED)}})}),t.jsx(m,{label:e("Value"),mt:"sm",description:e(i.CREATE_TRANSLATION_KEY_VALUE_DESC),...l("value",{min:{value:1,message:e(i.FIELD_REQUIRED)}})}),t.jsx(L,{className:"mr-auto block",type:"submit",loading:p.isSubmitting,mt:"lg",size:"md",children:e("Create")})]})})})}export{w as Route};

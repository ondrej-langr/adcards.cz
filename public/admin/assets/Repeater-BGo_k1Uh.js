import{R as W,r as B,V as $e,W as ze,Y as We,b0 as Ke,al as Ge,bN as Ze,an as Ve,b1 as _e,a_ as He,ba as Qe,ap as Ye,as as qe,by as Je,u as Be,j as D,L as Xe,x as et,aZ as tt,bO as rt,M as ve,D as at,bJ as nt,ah as De,B as it,w as be,H as Ce,A as xe,bP as ot,bQ as lt,a4 as ut,T as st,a0 as ft}from"./index-UkeQhmow.js";import{u as ct}from"./useModelItems-1E8lchLJ.js";import{m as dt}from"./mustache-hdmEeTIN.js";import{S as vt}from"./Select-3J8J3tZj.js";function de(e,t,r){return t===void 0&&r===void 0?e:t!==void 0&&r===void 0?Math.max(e,t):Math.min(t===void 0&&r!==void 0?e:Math.max(e,t),r)}function Me(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}var ue;(function(e){e.event="event",e.props="prop"})(ue||(ue={}));function q(){}function mt(e){var t,r=void 0;return function(){for(var n=[],a=arguments.length;a--;)n[a]=arguments[a];return t&&n.length===t.length&&n.every(function(o,u){return o===t[u]})||(t=n,r=e.apply(void 0,n)),r}}function se(e){return!!(e||"").match(/\d/)}function ne(e){return e==null}function gt(e){return typeof e=="number"&&isNaN(e)}function Oe(e){return ne(e)||gt(e)||typeof e=="number"&&!isFinite(e)}function Pe(e){return e.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")}function ht(e){switch(e){case"lakh":return/(\d+?)(?=(\d\d)+(\d)(?!\d))(\.\d+)?/g;case"wan":return/(\d)(?=(\d{4})+(?!\d))/g;case"thousand":default:return/(\d)(?=(\d{3})+(?!\d))/g}}function pt(e,t,r){var n=ht(r),a=e.search(/[1-9]/);return a=a===-1?e.length:a,e.substring(0,a)+e.substring(a,e.length).replace(n,"$1"+t)}function bt(e){var t=B.useRef(e);t.current=e;var r=B.useRef(function(){for(var n=[],a=arguments.length;a--;)n[a]=arguments[a];return t.current.apply(t,n)});return r.current}function we(e,t){t===void 0&&(t=!0);var r=e[0]==="-",n=r&&t;e=e.replace("-","");var a=e.split("."),o=a[0],u=a[1]||"";return{beforeDecimal:o,afterDecimal:u,hasNegation:r,addNegation:n}}function xt(e){if(!e)return e;var t=e[0]==="-";t&&(e=e.substring(1,e.length));var r=e.split("."),n=r[0].replace(/^0+/,"")||"0",a=r[1]||"";return(t?"-":"")+n+(a?"."+a:"")}function Le(e,t,r){for(var n="",a=r?"0":"",o=0;o<=t-1;o++)n+=e[o]||a;return n}function Ie(e,t){return Array(t+1).join(e)}function Fe(e){var t=e+"",r=t[0]==="-"?"-":"";r&&(t=t.substring(1));var n=t.split(/[eE]/g),a=n[0],o=n[1];if(o=Number(o),!o)return r+a;a=a.replace(".","");var u=1+o,b=a.length;return u<0?a="0."+Ie("0",Math.abs(u))+a:u>=b?a=a+Ie("0",u-b):a=(a.substring(0,u)||"0")+"."+a.substring(u),r+a}function Ee(e,t,r){if(["","-"].indexOf(e)!==-1)return e;var n=(e.indexOf(".")!==-1||r)&&t,a=we(e),o=a.beforeDecimal,u=a.afterDecimal,b=a.hasNegation,g=parseFloat("0."+(u||"0")),S=u.length<=t?"0."+u:g.toFixed(t),x=S.split("."),p=o.split("").reverse().reduce(function(y,C,f){return y.length>f?(Number(y[0])+Number(C)).toString()+y.substring(1,y.length):C+y},x[0]),d=Le(x[1]||"",t,r),h=b?"-":"",c=n?".":"";return""+h+p+c+d}function ee(e,t){if(e.value=e.value,e!==null){if(e.createTextRange){var r=e.createTextRange();return r.move("character",t),r.select(),!0}return e.selectionStart||e.selectionStart===0?(e.focus(),e.setSelectionRange(t,t),!0):(e.focus(),!1)}}var ke=mt(function(e,t){for(var r=0,n=0,a=e.length,o=t.length;e[r]===t[r]&&r<a;)r++;for(;e[a-1-n]===t[o-1-n]&&o-n>r&&a-n>r;)n++;return{from:{start:r,end:a-n},to:{start:r,end:o-n}}});function St(e,t,r){return Math.min(Math.max(e,t),r)}function Se(e){return Math.max(e.selectionStart,e.selectionEnd)}function Nt(){return typeof navigator<"u"&&!(navigator.platform&&/iPhone|iPod/.test(navigator.platform))}function wt(e){return{from:{start:0,end:0},to:{start:0,end:e.length},lastValue:""}}function yt(e){var t=e.currentValue,r=e.formattedValue,n=e.currentValueIndex,a=e.formattedValueIndex;return t[n]===r[a]}function Vt(e,t,r,n,a,o,u){u===void 0&&(u=yt);var b=a.findIndex(function(k){return k}),g=e.slice(0,b);!t&&!r.startsWith(g)&&(t=g,r=g+r,n=n+g.length);for(var S=r.length,x=e.length,p={},d=new Array(S),h=0;h<S;h++){d[h]=-1;for(var c=0,y=x;c<y;c++){var C=u({currentValue:r,lastValue:t,formattedValue:e,currentValueIndex:h,formattedValueIndex:c});if(C&&p[c]!==!0){d[h]=c,p[c]=!0;break}}}for(var f=n;f<S&&(d[f]===-1||!o(r[f]));)f++;var I=f===S||d[f]===-1?x:d[f];for(f=n-1;f>0&&d[f]===-1;)f--;var R=f===-1||d[f]===-1?0:d[f]+1;return R>I?I:n-R<I-n?R:I}function Re(e,t,r,n){var a=e.length;if(t=St(t,0,a),n==="left"){for(;t>=0&&!r[t];)t--;t===-1&&(t=r.indexOf(!0))}else{for(;t<=a&&!r[t];)t++;t>a&&(t=r.lastIndexOf(!0))}return t===-1&&(t=a),t}function Dt(e){for(var t=Array.from({length:e.length+1}).map(function(){return!0}),r=0,n=t.length;r<n;r++)t[r]=!!(se(e[r])||se(e[r-1]));return t}function Ue(e,t,r,n,a,o){o===void 0&&(o=q);var u=bt(function(c,y){var C,f;return Oe(c)?(f="",C=""):typeof c=="number"||y?(f=typeof c=="number"?Fe(c):c,C=n(f)):(f=a(c,void 0),C=n(f)),{formattedValue:C,numAsString:f}}),b=B.useState(function(){return u(ne(e)?t:e,r)}),g=b[0],S=b[1],x=function(c,y){c.formattedValue!==g.formattedValue&&S({formattedValue:c.formattedValue,numAsString:c.value}),o(c,y)},p=e,d=r;ne(e)&&(p=g.numAsString,d=!0);var h=u(p,d);return B.useMemo(function(){S(h)},[h.formattedValue]),[g,x]}function Ct(e){return e.replace(/[^0-9]/g,"")}function It(e){return e}function Et(e){var t=e.type;t===void 0&&(t="text");var r=e.displayType;r===void 0&&(r="input");var n=e.customInput,a=e.renderText,o=e.getInputRef,u=e.format;u===void 0&&(u=It);var b=e.removeFormatting;b===void 0&&(b=Ct);var g=e.defaultValue,S=e.valueIsNumericString,x=e.onValueChange,p=e.isAllowed,d=e.onChange;d===void 0&&(d=q);var h=e.onKeyDown;h===void 0&&(h=q);var c=e.onMouseUp;c===void 0&&(c=q);var y=e.onFocus;y===void 0&&(y=q);var C=e.onBlur;C===void 0&&(C=q);var f=e.value,I=e.getCaretBoundary;I===void 0&&(I=Dt);var R=e.isValidInputCharacter;R===void 0&&(R=se);var k=e.isCharacterSame,P=Me(e,["type","displayType","customInput","renderText","getInputRef","format","removeFormatting","defaultValue","valueIsNumericString","onValueChange","isAllowed","onChange","onKeyDown","onMouseUp","onFocus","onBlur","value","getCaretBoundary","isValidInputCharacter","isCharacterSame"]),$=Ue(f,g,!!S,u,b,x),z=$[0],w=z.formattedValue,M=z.numAsString,G=$[1],U=B.useRef({formattedValue:w,numAsString:M}),Z=function(l,s){U.current={formattedValue:l.formattedValue,numAsString:l.value},G(l,s)},K=B.useState(!1),Y=K[0],Q=K[1],v=B.useRef(null),m=B.useRef({setCaretTimeout:null,focusTimeout:null});B.useEffect(function(){return Q(!0),function(){clearTimeout(m.current.setCaretTimeout),clearTimeout(m.current.focusTimeout)}},[]);var O=u,E=function(l,s){var i=parseFloat(s);return{formattedValue:l,value:s,floatValue:isNaN(i)?void 0:i}},j=function(l,s,i){l.selectionStart===0&&l.selectionEnd===l.value.length||(ee(l,s),m.current.setCaretTimeout=setTimeout(function(){l.value===i&&l.selectionStart!==l.selectionEnd&&ee(l,s)},0))},_=function(l,s,i){return Re(l,s,I(l),i)},N=function(l,s,i){var V=I(s),A=Vt(s,w,l,i,V,R,k);return A=Re(s,A,V),A},H=function(l){var s=l.formattedValue;s===void 0&&(s="");var i=l.input,V=l.setCaretPosition;V===void 0&&(V=!0);var A=l.source,T=l.event,L=l.numAsString,F=l.caretPos;if(i){if(F===void 0&&V){var le=l.inputValue||i.value,pe=Se(i);i.value=s,F=N(le,s,pe)}i.value=s,V&&F!==void 0&&j(i,F,s)}s!==w&&Z(E(s,L),{event:T,source:A})};B.useEffect(function(){var l=U.current,s=l.formattedValue,i=l.numAsString;w!==s&&(w!==M||s!==i)&&Z(E(w,M),{event:void 0,source:ue.props})},[w,M]);var te=v.current?Se(v.current):void 0,J=typeof window<"u"?B.useLayoutEffect:B.useEffect;J(function(){var l=v.current;if(w!==U.current.formattedValue&&l){var s=N(U.current.formattedValue,w,te);l.value=w,j(l,s,w)}},[w]);var X=function(l,s,i){var V=ke(w,l),A=Object.assign(Object.assign({},V),{lastValue:w}),T=b(l,A),L=O(T);if(T=b(L,void 0),p&&!p(E(L,T))){var F=s.target,le=Se(F),pe=N(l,w,le);return F.value=w,j(F,pe,w),!1}return H({formattedValue:L,numAsString:T,inputValue:l,event:s,source:i,setCaretPosition:!0,input:s.target}),!0},ie=function(l){var s=l.target,i=s.value,V=X(i,l,ue.event);V&&d(l)},ge=function(l){var s=l.target,i=l.key,V=s.selectionStart,A=s.selectionEnd,T=s.value;T===void 0&&(T="");var L;if(i==="ArrowLeft"||i==="Backspace"?L=Math.max(V-1,0):i==="ArrowRight"?L=Math.min(V+1,T.length):i==="Delete"&&(L=V),L===void 0||V!==A){h(l);return}var F=L;if(i==="ArrowLeft"||i==="ArrowRight"){var le=i==="ArrowLeft"?"left":"right";F=_(T,L,le),F!==L&&l.preventDefault()}else i==="Delete"&&!R(T[L])?F=_(T,L,"right"):i==="Backspace"&&!R(T[L])&&(F=_(T,L,"left"));F!==L&&j(s,F,T),l.isUnitTestRun&&j(s,F,T),h(l)},re=function(l){var s=l.target,i=s.selectionStart,V=s.selectionEnd,A=s.value;if(A===void 0&&(A=""),i===V){var T=_(A,i);T!==i&&j(s,T,A)}c(l)},ae=function(l){l.persist&&l.persist();var s=l.target;v.current=s,m.current.focusTimeout=setTimeout(function(){var i=s.selectionStart,V=s.selectionEnd,A=s.value;A===void 0&&(A="");var T=_(A,i);T!==i&&!(i===0&&V===A.length)&&j(s,T,A),y(l)},0)},he=function(l){v.current=null,clearTimeout(m.current.focusTimeout),clearTimeout(m.current.setCaretTimeout),C(l)},fe=Y&&Nt()?"numeric":void 0,oe=Object.assign({inputMode:fe},P,{type:t,value:w,onChange:ie,onKeyDown:ge,onMouseUp:re,onFocus:ae,onBlur:he});if(r==="text")return a?W.createElement(W.Fragment,null,a(w,P)||null):W.createElement("span",Object.assign({},P,{ref:o}),w);if(n){var ce=n;return W.createElement(ce,Object.assign({},oe,{ref:o}))}return W.createElement("input",Object.assign({},oe,{ref:o}))}function Ae(e,t){var r=t.decimalScale,n=t.fixedDecimalScale,a=t.prefix;a===void 0&&(a="");var o=t.suffix;o===void 0&&(o="");var u=t.allowNegative,b=t.thousandsGroupStyle;if(b===void 0&&(b="thousand"),e===""||e==="-")return e;var g=me(t),S=g.thousandSeparator,x=g.decimalSeparator,p=r!==0&&e.indexOf(".")!==-1||r&&n,d=we(e,u),h=d.beforeDecimal,c=d.afterDecimal,y=d.addNegation;return r!==void 0&&(c=Le(c,r,!!n)),S&&(h=pt(h,S,b)),a&&(h=a+h),o&&(c=c+o),y&&(h="-"+h),e=h+(p&&x||"")+c,e}function me(e){var t=e.decimalSeparator;t===void 0&&(t=".");var r=e.thousandSeparator,n=e.allowedDecimalSeparators;return r===!0&&(r=","),n||(n=[t,"."]),{decimalSeparator:t,thousandSeparator:r,allowedDecimalSeparators:n}}function Rt(e,t){e===void 0&&(e="");var r=new RegExp("(-)"),n=new RegExp("(-)(.)*(-)"),a=r.test(e),o=n.test(e);return e=e.replace(/-/g,""),a&&!o&&t&&(e="-"+e),e}function At(e,t){return new RegExp("(^-)|[0-9]|"+Pe(e),t?"g":void 0)}function Tt(e,t,r){return e===""?!0:!(t!=null&&t.match(/\d/))&&!(r!=null&&r.match(/\d/))&&typeof e=="string"&&!isNaN(Number(e))}function jt(e,t,r){var n;t===void 0&&(t=wt(e));var a=r.allowNegative,o=r.prefix;o===void 0&&(o="");var u=r.suffix;u===void 0&&(u="");var b=r.decimalScale,g=t.from,S=t.to,x=S.start,p=S.end,d=me(r),h=d.allowedDecimalSeparators,c=d.decimalSeparator,y=e[p]===c;if(se(e)&&(e===o||e===u)&&t.lastValue==="")return e;if(p-x===1&&h.indexOf(e[x])!==-1){var C=b===0?"":c;e=e.substring(0,x)+C+e.substring(x+1,e.length)}var f=function(m,O,E){var j=!1,_=!1;o.startsWith("-")?j=!1:m.startsWith("--")?(j=!1,_=!0):u.startsWith("-")&&m.length===u.length?j=!1:m[0]==="-"&&(j=!0);var N=j?1:0;return _&&(N=2),N&&(m=m.substring(N),O-=N,E-=N),{value:m,start:O,end:E,hasNegation:j}},I=f(e,x,p),R=I.hasNegation;n=I,e=n.value,x=n.start,p=n.end;var k=f(t.lastValue,g.start,g.end),P=k.start,$=k.end,z=k.value,w=e.substring(x,p);e.length&&z.length&&(P>z.length-u.length||$<o.length)&&!(w&&u.startsWith(w))&&(e=z);var M=0;e.startsWith(o)?M+=o.length:x<o.length&&(M=x),e=e.substring(M),p-=M;var G=e.length,U=e.length-u.length;e.endsWith(u)?G=U:(p>U||p>e.length-u.length)&&(G=p),e=e.substring(0,G),e=Rt(R?"-"+e:e,a),e=(e.match(At(c,!0))||[]).join("");var Z=e.indexOf(c);e=e.replace(new RegExp(Pe(c),"g"),function(m,O){return O===Z?".":""});var K=we(e,a),Y=K.beforeDecimal,Q=K.afterDecimal,v=K.addNegation;return S.end-S.start<g.end-g.start&&Y===""&&y&&!parseFloat(Q)&&(e=v?"-":""),e}function _t(e,t){var r=t.prefix;r===void 0&&(r="");var n=t.suffix;n===void 0&&(n="");var a=Array.from({length:e.length+1}).map(function(){return!0}),o=e[0]==="-";a.fill(!1,0,r.length+(o?1:0));var u=e.length;return a.fill(!1,u-n.length+1,u+1),a}function Bt(e){var t=me(e),r=t.thousandSeparator,n=t.decimalSeparator,a=e.prefix;a===void 0&&(a="");var o=e.allowNegative;if(o===void 0&&(o=!0),r===n)throw new Error(`
        Decimal separator can't be same as thousand separator.
        thousandSeparator: `+r+` (thousandSeparator = {true} is same as thousandSeparator = ",")
        decimalSeparator: `+n+` (default value for decimalSeparator is .)
     `);return a.startsWith("-")&&o&&(console.error(`
      Prefix can't start with '-' when allowNegative is true.
      prefix: `+a+`
      allowNegative: `+o+`
    `),o=!1),Object.assign(Object.assign({},e),{allowNegative:o})}function Mt(e){e=Bt(e),e.decimalSeparator,e.allowedDecimalSeparators,e.thousandsGroupStyle;var t=e.suffix,r=e.allowNegative,n=e.allowLeadingZeros,a=e.onKeyDown;a===void 0&&(a=q);var o=e.onBlur;o===void 0&&(o=q);var u=e.thousandSeparator,b=e.decimalScale,g=e.fixedDecimalScale,S=e.prefix;S===void 0&&(S="");var x=e.defaultValue,p=e.value,d=e.valueIsNumericString,h=e.onValueChange,c=Me(e,["decimalSeparator","allowedDecimalSeparators","thousandsGroupStyle","suffix","allowNegative","allowLeadingZeros","onKeyDown","onBlur","thousandSeparator","decimalScale","fixedDecimalScale","prefix","defaultValue","value","valueIsNumericString","onValueChange"]),y=me(e),C=y.decimalSeparator,f=y.allowedDecimalSeparators,I=function(v){return Ae(v,e)},R=function(v,m){return jt(v,m,e)},k=ne(p)?x:p,P=d??Tt(k,S,t);ne(p)?ne(x)||(P=P||typeof x=="number"):P=P||typeof p=="number";var $=function(v){return Oe(v)?v:(typeof v=="number"&&(v=Fe(v)),P&&typeof b=="number"?Ee(v,b,!!g):v)},z=Ue($(p),$(x),!!P,I,R,h),w=z[0],M=w.numAsString,G=w.formattedValue,U=z[1],Z=function(v){var m=v.target,O=v.key,E=m.selectionStart,j=m.selectionEnd,_=m.value;if(_===void 0&&(_=""),E!==j){a(v);return}O==="Backspace"&&_[0]==="-"&&E===S.length+1&&r&&ee(m,1),b&&g&&(O==="Backspace"&&_[E-1]===C?(ee(m,E-1),v.preventDefault()):O==="Delete"&&_[E]===C&&v.preventDefault()),f!=null&&f.includes(O)&&_[E]===C&&ee(m,E+1);var N=u===!0?",":u;O==="Backspace"&&_[E-1]===N&&ee(m,E-1),O==="Delete"&&_[E]===N&&ee(m,E+1),a(v)},K=function(v){var m=M;if(m.match(/\d/g)||(m=""),n||(m=xt(m)),g&&b&&(m=Ee(m,b,g)),m!==M){var O=Ae(m,e);U({formattedValue:O,value:m,floatValue:parseFloat(m)},{event:v,source:ue.event})}o(v)},Y=function(v){return v===C?!0:se(v)},Q=function(v){var m=v.currentValue,O=v.lastValue,E=v.formattedValue,j=v.currentValueIndex,_=v.formattedValueIndex,N=m[j],H=E[_],te=ke(O,m),J=te.to;return j>=J.start&&j<J.end&&f&&f.includes(N)&&H===C?!0:N===H};return Object.assign(Object.assign({},c),{value:G,valueIsNumericString:!1,isValidInputCharacter:Y,isCharacterSame:Q,onValueChange:U,format:I,removeFormatting:R,getCaretBoundary:function(v){return _t(v,e)},onKeyDown:Z,onBlur:K})}function Ot(e){var t=Mt(e);return W.createElement(Et,Object.assign({},t))}function Te({direction:e,style:t,...r}){return W.createElement("svg",{style:{width:"var(--ni-chevron-size)",height:"var(--ni-chevron-size)",transform:e==="up"?"rotate(180deg)":void 0,...t},viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},W.createElement("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}var Ne={root:"m-e2f5cd4e",controls:"m-95e17d22",control:"m-80b4b171"};const Pt=/^-0(\.0*)?$/,Lt=/^-?0\d+$/;function Ft(e){return(typeof e=="number"?e<Number.MAX_SAFE_INTEGER:!Number.isNaN(Number(e)))&&!Number.isNaN(e)}function kt({value:e,min:t,step:r=1,allowNegative:n}){const a=e-r;return t!==void 0&&a<t?t:!n&&a<0&&t===void 0?e:(t!==void 0&&t>=0&&a<=t,a)}function je(e,t,r){if(e===void 0)return!0;const n=t===void 0||e>=t,a=r===void 0||e<=r;return n&&a}const Ut={step:1,clampBehavior:"blur",allowDecimal:!0,allowNegative:!0,startValue:0},$t=Ye((e,{size:t})=>({controls:{"--ni-chevron-size":qe(t,"ni-chevron-size")}})),ye=$e((e,t)=>{const r=ze("NumberInput",Ut,e),{className:n,classNames:a,styles:o,unstyled:u,vars:b,onChange:g,onValueChange:S,value:x,defaultValue:p,max:d,min:h,step:c,hideControls:y,rightSection:C,isAllowed:f,clampBehavior:I,onBlur:R,allowDecimal:k,decimalScale:P,onKeyDown:$,handlersRef:z,startValue:w,disabled:M,rightSectionPointerEvents:G,allowNegative:U,readOnly:Z,size:K,rightSectionWidth:Y,stepHoldInterval:Q,stepHoldDelay:v,allowLeadingZeros:m,...O}=r,E=We({name:"NumberInput",classes:Ne,props:r,classNames:a,styles:o,unstyled:u,vars:b,varsResolver:$t}),{resolvedClassNames:j,resolvedStyles:_}=Ke({classNames:a,styles:o,props:r}),[N,H]=Ge({value:x,defaultValue:p,onChange:g}),te=v!==void 0&&Q!==void 0,J=B.useRef(null),X=B.useRef(null),ie=B.useRef(0),ge=(i,V)=>{V.source==="event"&&H(Ft(i.floatValue)&&!Pt.test(i.value)&&!(m&&Lt.test(i.value))?i.floatValue:i.value),S==null||S(i,V)},re=B.useRef();re.current=()=>{typeof N!="number"||Number.isNaN(N)?H(de(w,h,d)):H(d!==void 0?N+c<=d?N+c:d:N+c)};const ae=B.useRef();ae.current=()=>{typeof N!="number"||Number.isNaN(N)?H(de(w,h,d)):H(kt({value:N,min:h,step:c,allowNegative:U}))};const he=i=>{$==null||$(i),!Z&&(i.key==="ArrowUp"&&(i.preventDefault(),re.current()),i.key==="ArrowDown"&&(i.preventDefault(),ae.current()))};Ze(z,{increment:re.current,decrement:ae.current});const fe=i=>{i?re.current():ae.current(),ie.current+=1},oe=i=>{if(fe(i),te){const V=typeof Q=="number"?Q:Q(ie.current);X.current=window.setTimeout(()=>oe(i),V)}},ce=(i,V)=>{var A;i.preventDefault(),(A=J.current)==null||A.focus(),fe(V),te&&(X.current=window.setTimeout(()=>oe(V),v))},l=()=>{X.current&&window.clearTimeout(X.current),X.current=null,ie.current=0},s=W.createElement("div",{...E("controls")},W.createElement(Ve,{...E("control"),tabIndex:-1,"aria-hidden":!0,disabled:M||typeof N=="number"&&d!==void 0&&N>=d,mod:{direction:"up"},onMouseDown:i=>i.preventDefault(),onPointerDown:i=>{ce(i,!0)},onPointerUp:l,onPointerLeave:l},W.createElement(Te,{direction:"up"})),W.createElement(Ve,{...E("control"),tabIndex:-1,"aria-hidden":!0,disabled:M||typeof N=="number"&&h!==void 0&&N<=h,mod:{direction:"down"},onMouseDown:i=>i.preventDefault(),onPointerDown:i=>{ce(i,!1)},onPointerUp:l,onPointerLeave:l},W.createElement(Te,{direction:"down"})));return W.createElement(_e,{component:Ot,allowNegative:U,className:He(Ne.root,n),size:K,...O,readOnly:Z,disabled:M,value:N,getInputRef:Qe(t,J),onValueChange:ge,rightSection:y||Z?C:C||s,classNames:j,styles:_,unstyled:u,__staticSelector:"NumberInput",decimalScale:k?P:0,onKeyDown:he,rightSectionPointerEvents:G??(M?"none":void 0),rightSectionWidth:Y??`var(--ni-right-section-width-${K||"sm"})`,allowLeadingZeros:m,onBlur:i=>{R==null||R(i),I==="blur"&&typeof N=="number"&&de(N,h,d)!==N&&H(de(N,h,d))},isAllowed:i=>I==="strict"?f?f(i)&&je(i.floatValue,h,d):je(i.floatValue,h,d):f?f(i):!0})});ye.classes={..._e.classes,...Ne};ye.displayName="@mantine/core/NumberInput";const zt=({columnName:e,title:t,error:r,targetModelTableName:n,labelConstructor:a,disabled:o})=>{const{field:u}=Je({name:e}),{t:b}=Be(),{data:g,isError:S,isLoading:x}=ct(n,{}),p=B.useMemo(()=>((g==null?void 0:g.data)??[]).map(d=>({value:String(d.slug),label:dt.render(a,d)})),[g,b,a]);return D.jsxs("div",{className:"w-full",children:[D.jsx(vt,{data:p,label:t,value:u.value?String(u.value):null,onChange:u.onChange,className:"w-full",placeholder:b("Select an option"),disabled:S||x||o,comboboxProps:{shadow:"xl"},error:r},e),u.value&&!Array.isArray(u.value)?D.jsx(Xe,{target:"_blank",to:et.entryTypes(n).view(u.value),children:D.jsxs(tt,{size:"sm",color:"blue",children:[D.jsx(rt,{size:15,className:"mr-1 relative top-0.5"}),ve.SHOW_SELECTED_ITEM]})}):null]})},Ht=({name:e,label:t,columns:r,placement:n,disabled:a,readonly:o})=>{const{formState:u,register:b}=at(),{t:g}=Be(),S=`${e}.data`,{fields:x,remove:p,move:d,append:h}=nt({name:S}),c=B.useMemo(()=>!!Array.from(r.values()).find(({title:C})=>!!C),[r]),y=B.useMemo(()=>x.length?x:o?[]:[{id:"default"}],[x,o]);return D.jsx(De.Wrapper,{size:"md",classNames:{label:"flex w-full justify-between items-center"},label:D.jsxs(D.Fragment,{children:[D.jsx("span",{children:t}),D.jsx(it,{size:"compact-sm",color:"green",onClick:()=>h({}),children:g(ve.ADD_ROW)})]}),children:D.jsxs("div",{className:be(["mt-2 flex flex-col divide-y-2 divide-blue-100",n===Ce.MAIN&&"rounded-lg border border-blue-200 bg-white dark:bg-transparent backdrop-blur-md p-2"]),children:[y.map((C,f)=>D.jsxs("div",{className:be("flex w-full gap-2 first:pt-0 last:pb-0","py-3"),children:[D.jsxs("div",{className:"flex flex-col w-10",children:[D.jsx(xe,{size:"sm",disabled:f===0,className:"w-full max-h-[22px] min-h-[22px] rounded-b-none rounded-prom",variant:"white",onClick:()=>d(f,f-1),children:D.jsx(ot,{size:16})}),D.jsx(xe,{size:"sm",disabled:y.length-1===f,className:"w-full max-h-[22px] min-h-[22px] rounded-t-none rounded-prom",variant:"white",onClick:()=>d(f,f+1),children:D.jsx(lt,{size:16})})]}),r.map(I=>{var w;let R=D.jsx(D.Fragment,{});const k=`${S}.${f}.${I.name}`,P=g(((w=u.errors[I.name])==null?void 0:w.message)||""),$=I.title||(c?g(`${e} label`):void 0),z=I.title?void 0:{className:"opacity-0"};switch(I.type){case"number":R=D.jsx(ft,{name:k,render:({field:{onChange:M,name:G,onBlur:U,ref:Z,value:K}})=>D.jsx(ye,{ref:Z,name:G,onBlur:U,onChange:Y=>M(Y),label:$,autoComplete:"off",labelProps:z,error:P,value:K,className:"w-full",disabled:a})});break;case"string":R=D.jsx(ut,{label:$,type:"string",autoComplete:"off",error:P,className:"w-full",labelProps:z,disabled:a,...b(k)});break;case"relationship":R=D.jsx(zt,{error:P,disabled:a,admin:{editor:{placement:Ce.MAIN,width:12},isHidden:!1},columnName:k,unique:!1,...I,localized:!1});break}return D.jsx(B.Fragment,{children:R},I.name)}),o?null:D.jsx(De.Wrapper,{label:c?g("Actions"):void 0,labelProps:{className:"opacity-0"},className:"flex-none",children:D.jsx("div",{className:"grid grid-cols-1",children:D.jsx(xe,{disabled:f===0||a,className:be(f==0&&"opacity-0"),p:"xs",size:"xl",variant:"subtle",color:"red",onClick:()=>confirm(g(ve.ON_DELETE_REQUEST_PROMPT))&&p(f),children:D.jsx(st,{})})})})]},C.id)),y!=null&&y.length?null:D.jsx("p",{children:g(ve.EMPTY_VALUE)})]})})};export{Ht as R,zt as a,de as c};

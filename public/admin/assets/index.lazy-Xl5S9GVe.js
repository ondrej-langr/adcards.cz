import{h as E,i as y,a1 as b,b as h,a as x,az as R,u as S,r as c,j as t,c as j,M as i,a4 as m,B as L,e as N}from"./index-RZzWi_an.js";import{L as k}from"./LanguageSelect-P3IDe1cr.js";import{u as v}from"./useRequestWithNotifications-JUVnYa28.js";import{M as C}from"./Modal-1DAK8hBG.js";import"./Skeleton-87WkLQaN.js";import"./Select-1m3NTbtF.js";import"./ScrollArea-8OXu0X4u.js";import"./NativeScrollArea-xY8Tlx7e.js";import"./Overlay-yVmGNtgA.js";const G=E("/_authorized/settings/translations/$lang/keys/create/")({component:T});function T(){const o=y(),n=b(),r=h(),g=v(),{lang:s}=x({from:R.id}),{t:e}=S(),{handleSubmit:d,formState:p,register:l}=r,u=c.useCallback(()=>o({to:`/settings/translations/${s}`}),[o]),f=async a=>{try{g({title:e("Creating translation key"),message:e("Please wait..."),successMessage:e("Translation key successfully created")},async()=>{await N.generalTranslations.update(a.key,a.value,s),u()})}catch{}};return c.useEffect(()=>{var a;s&&n&&!((a=n.application)!=null&&a.i18n.languages.includes(s))&&o({to:"/404"})},[s,n]),t.jsx(C,{opened:!0,onClose:u,centered:!0,padding:32,size:500,className:"overflow-auto",title:e("Create translation key"),children:t.jsx(j,{...r,children:t.jsxs("form",{className:"h-full",onSubmit:d(f),children:[t.jsx(k,{disabled:!0,label:e(i.FOR_LANGUAGE),value:s}),t.jsx(m,{label:e("Key title"),mt:"sm",...l("key",{min:{value:1,message:e(i.FIELD_REQUIRED)}})}),t.jsx(m,{label:e("Value"),mt:"sm",description:e(i.CREATE_TRANSLATION_KEY_VALUE_DESC),...l("value",{min:{value:1,message:e(i.FIELD_REQUIRED)}})}),t.jsx(L,{className:"mr-auto block",type:"submit",loading:p.isSubmitting,mt:"lg",size:"md",children:e("Create")})]})})})}export{G as Route};

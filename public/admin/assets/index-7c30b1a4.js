import{r as i,C as d,k as u,j as e,D as m,E as p,A as f,G as v,J as x,e as b,K as g,a as h,Q as C,R as j,V as L,W as k,X as E}from"./index-48692a22.js";function y(){const[l,t]=i.useState(!1),a=i.useRef(null),s=i.useCallback(()=>t(!0),[]),n=i.useCallback(()=>t(!1),[]);return i.useEffect(()=>{if(a.current)return a.current.addEventListener("mouseenter",s),a.current.addEventListener("mouseleave",n),()=>{var o,r;(o=a.current)==null||o.removeEventListener("mouseenter",s),(r=a.current)==null||r.removeEventListener("mouseleave",n)}},[]),{ref:a,hovered:l}}const I=({fileUrl:l})=>{const{hovered:t,ref:a}=y(),s=d(),{t:n}=u(),o=()=>s.copy(l);return e.jsx(m,{label:n("File URL"),type:"string",className:"w-full",autoComplete:"off",value:l.pathname,rightSection:e.jsx(p,{label:n(s.copied?"Link copied!":"Copy link to clipboard"),position:"left",radius:"xl",transition:"fade",transitionDuration:200,opened:t||s.copied,children:e.jsx(f,{ref:a,onClick:o,color:"blue",variant:"filled",size:"xl",className:"mr-2",children:e.jsx(v,{className:"h-7 w-7"})})}),disabled:!0},"fileUrl")},w=()=>{const{t:l}=u(),{fileId:t}=x(),a=b(),{data:s,isLoading:n}=g("files",t),o=i.useMemo(()=>!!t&&h.files.getAssetUrl(t),[t]),r=i.useMemo(()=>{var c;return(c=s==null?void 0:s.mimeType)==null?void 0:c.startsWith("image/")},[s]);return e.jsx(C,{size:"xl",opened:!0,onClose:()=>a(-1),padding:"xl",position:"right",closeButtonLabel:l("Close"),title:e.jsx(j,{order:4,children:n?l("Loading, please wait..."):e.jsxs(e.Fragment,{children:["File info of '",e.jsx("span",{className:"text-blue-500",children:s.filename}),"'"]})}),children:!n&&s&&o?e.jsxs(e.Fragment,{children:[e.jsx(L,{mb:"lg",mt:"sm",size:"sm"}),r?e.jsx(k.Wrapper,{label:l("File preview"),className:"py-3",labelProps:{className:"font-semibold"},children:e.jsx(E,{quality:80,width:450,imageId:t,className:"mb-3 w-full"})}):null,e.jsx(I,{fileUrl:o})]}):null})};export{w as default};
